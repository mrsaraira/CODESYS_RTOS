// This software uses the following Open Source software:
// - log4javascript
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Copyright by Tim Down
//	* Source: http://www.apache.org/licenses/
// - a simplified (and thus modified) version of stringencoding
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Source: http://code.google.com/p/stringencoding/

function h(a){throw a;}var i=void 0,k=!0,o=null,p=!1;function s(){return function(){}}function t(a){return function(b){this[a]=b}}function u(a){return function(){return this[a]}}function v(a){return function(){return a}}var ea;
(function(){function a(a){var b=0;this.get=function(){return b>=a.length?-1:Number(a[b])};this.zh=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};this.match=function(c){if(c.length>b+a.length)return p;var d;for(d=0;d<c.length;d+=1)if(Number(a[b+d])!==c[d])return p;return k}}function b(a){var b=0;this.get=function(){return b>=a.length?-1:a[b]};this.zh=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};
this.match=function(c){if(c.length>b+a.length)return p;var d;for(d=0;d<c.length;d+=1)if(a[b+d]!==c[d])return p;return k}}function c(){var a="";this.Cn=function(){return a};this.fm=function(b){65535>=b?a+=String.fromCharCode(b):(b-=65536,a+=String.fromCharCode(55296+(b>>10&1023)),a+=String.fromCharCode(56320+(b&1023)))}}function d(a){a=(""+a).trim().toLowerCase();if(Object.prototype.hasOwnProperty.call(g,a))return g[a];h(Error("EncodingError: Unknown encoding: "+a))}function e(a,b){var c=b.Nc;this.le=
function(b){var d=b.get();if(-1===d)return-1;b.zh(1);if(0<=d&&127>=d)return d;b=a[d-128];b===o&&(c&&h(Error("EncodingError")),b=65533);return b}}var f={},g={};[{gm:[{da:"csisolatin2,iso-8859-2,iso-ir-101,iso8859-2,iso_8859-2,l2,latin2".split(","),name:"iso-8859-2"},{da:"csisolatin3,iso-8859-3,iso_8859-3,iso-ir-109,l3,latin3".split(","),name:"iso-8859-3"},{da:"csisolatin4,iso-8859-4,iso_8859-4,iso-ir-110,l4,latin4".split(","),name:"iso-8859-4"},{da:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5",
"iso-ir-144"],name:"iso-8859-5"},{da:"arabic,csisolatinarabic,ecma-114,iso-8859-6,iso_8859-6,iso-ir-127".split(","),name:"iso-8859-6"},{da:"csisolatingreek,ecma-118,elot_928,greek,greek8,iso-8859-7,iso_8859-7,iso-ir-126".split(","),name:"iso-8859-7"},{da:"csisolatinhebrew,hebrew,iso-8859-8,iso-8859-8-i,iso-ir-138,iso_8859-8,visual".split(","),name:"iso-8859-8"},{da:"csisolatin6,iso-8859-10,iso-ir-157,iso8859-10,l6,latin6".split(","),name:"iso-8859-10"},{da:["iso-8859-13"],name:"iso-8859-13"},{da:["iso-8859-14",
"iso8859-14"],name:"iso-8859-14"},{da:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{da:["iso-8859-16"],name:"iso-8859-16"},{da:"ascii,ansi_x3.4-1968,csisolatin1,iso-8859-1,iso8859-1,iso_8859-1,l1,latin1,us-ascii,windows-1252".split(","),name:"windows-1252"}],heading:"Legacy single-byte encodings"}].forEach(function(a){a.gm.forEach(function(a){f[a.name]=a;a.da.forEach(function(b){g[b]=a})})});var j={"iso-8859-2":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,
148,149,150,151,152,153,154,155,156,157,158,159,160,260,728,321,164,317,346,167,168,352,350,356,377,173,381,379,176,261,731,322,180,318,347,711,184,353,351,357,378,733,382,380,340,193,194,258,196,313,262,199,268,201,280,203,282,205,206,270,272,323,327,211,212,336,214,215,344,366,218,368,220,221,354,223,341,225,226,259,228,314,263,231,269,233,281,235,283,237,238,271,273,324,328,243,244,337,246,247,345,367,250,369,252,253,355,729],"iso-8859-3":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,
142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,294,728,163,164,o,292,167,168,304,350,286,308,173,o,379,176,295,178,179,180,181,293,183,184,305,351,287,309,189,o,380,192,193,194,o,196,266,264,199,200,201,202,203,204,205,206,207,o,209,210,211,212,288,214,215,284,217,218,219,220,364,348,223,224,225,226,o,228,267,265,231,232,233,234,235,236,237,238,239,o,241,242,243,244,289,246,247,285,249,250,251,252,365,349,729],"iso-8859-4":[128,129,130,131,132,133,134,135,136,137,138,
139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,312,342,164,296,315,167,168,352,274,290,358,173,381,175,176,261,731,343,180,297,316,711,184,353,275,291,359,330,382,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,298,272,325,332,310,212,213,214,215,216,370,218,219,220,360,362,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,299,273,326,333,311,244,245,246,247,248,371,250,251,252,361,363,729],"iso-8859-5":[128,129,130,131,132,
133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,173,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,
1103,8470,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,167,1118,1119],"iso-8859-6":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,o,o,o,164,o,o,o,o,o,o,o,1548,173,o,o,o,o,o,o,o,o,o,o,o,o,o,1563,o,o,o,1567,o,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,o,o,o,o,o,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,
1611,1612,1613,1614,1615,1616,1617,1618,o,o,o,o,o,o,o,o,o,o,o,o,o],"iso-8859-7":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8216,8217,163,8364,8367,166,167,168,169,890,171,172,173,o,8213,176,177,178,179,900,901,902,183,904,905,906,187,908,189,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,o,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,
953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,o],"iso-8859-8":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,o,162,163,164,165,166,167,168,169,215,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,247,187,188,189,190,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,8215,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,
1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,o,o,8206,8207,o],"iso-8859-10":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,274,290,298,296,310,167,315,272,352,358,381,173,362,330,176,261,275,291,299,297,311,183,316,273,353,359,382,8213,363,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,207,208,325,332,211,212,213,214,360,216,370,218,219,220,221,222,223,257,225,226,227,228,229,230,303,
269,233,281,235,279,237,238,239,240,326,333,243,244,245,246,361,248,371,250,251,252,253,254,312],"iso-8859-13":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8221,162,163,164,8222,166,167,216,169,342,171,172,173,174,198,176,177,178,179,8220,181,182,183,248,185,343,187,188,189,190,230,260,302,256,262,196,197,280,274,268,201,377,278,290,310,298,315,352,323,325,211,332,213,214,215,370,321,346,362,220,379,381,223,261,
303,257,263,228,229,281,275,269,233,378,279,291,311,299,316,353,324,326,243,333,245,246,247,371,322,347,363,252,380,382,8217],"iso-8859-14":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,7682,7683,163,266,267,7690,167,7808,169,7810,7691,7922,173,174,376,7710,7711,288,289,7744,7745,182,7766,7809,7767,7811,7776,7923,7812,7813,7777,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,372,209,210,211,212,
213,214,7786,216,217,218,219,220,221,374,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,373,241,242,243,244,245,246,7787,248,249,250,251,252,253,375,255],"iso-8859-15":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,8364,165,352,167,353,169,170,171,172,173,174,175,176,177,178,179,381,181,182,183,382,185,186,187,338,339,376,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,
206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],"iso-8859-16":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,261,321,8364,8222,352,167,353,169,536,171,377,173,378,379,176,177,268,322,381,8221,182,183,382,269,537,187,338,339,376,380,192,193,194,258,196,262,198,
199,200,201,202,203,204,205,206,207,272,323,210,211,212,336,214,346,368,217,218,219,220,280,538,223,224,225,226,259,228,263,230,231,232,233,234,235,236,237,238,239,273,324,242,243,244,337,246,347,369,249,250,251,252,281,539,255],"windows-1252":[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,
188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]};(function(){"iso-8859-2,iso-8859-3,iso-8859-4,iso-8859-5,iso-8859-6,iso-8859-7,iso-8859-8,iso-8859-10,iso-8859-13,iso-8859-14,iso-8859-15,iso-8859-16,windows-1252".split(",").forEach(function(a){var b=j[a];f[a].um=function(a){return new e(b,
a)}})})();ea=function(a,b){b=Object(b);this.Bd=d(a?""+a:"utf-8");this.Yk={Nc:Boolean(b.Nc)};this.Ej=this.Bd.um(this.Yk);Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.Bd.name}}):this.encoding=this.Bd.name;return this};ea.prototype={le:function(b){b&&!("buffer"in b&&"byteOffset"in b&&"byteLength"in b)&&h(new TypeError("Expected ArrayBufferView"));b||(b=new Uint8Array(0));b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);return this.zf(new a(b))},cm:function(a){a||
h(new TypeError("Expected array of bytes"));return this.zf(new b(a))},zf:function(a){for(var b=new c,d;-1!==a.get();)d=this.Ej.le(a),d!==o&&-1!==d&&b.fm(d);return b.Cn()}}})();if(!Array.prototype.push)Array.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++)this[this.length]=arguments[a];return this.length};if(!Array.prototype.shift)Array.prototype.shift=function(){if(0<this.length){for(var a=this[0],b=0,c=this.length-1;b<c;b++)this[b]=this[b+1];this.length-=1;return a}};
if(!Array.prototype.splice)Array.prototype.splice=function(a,b){var c=this.slice(a+b),d=this.slice(a,a+b);this.length=a;for(var e=[],f=0,g=arguments.length;f<g;f++)e[f]=arguments[f];c=2<e.length?e.slice(2).concat(c):c;for(f=0,g=c.length;f<g;f++)this.push(c[f]);return d};
var x=function(){function a(b){for(var c=o,d,e=0,f=sc.length;e<f;e++){d=sc[e];try{return c=d(),a=d,c}catch(g){}}b?b():r("getXmlHttp: unable to obtain XMLHttpRequest object")}function b(){}function c(){}function d(a,b,c,d,e){this.Wc=a;this.timeStamp=b;this.Uh=b.getTime();this.En=Math.floor(this.Uh/1E3);this.xh=this.timeStamp.getMilliseconds();this.K=c;this.xa=d;this.Ua=e}function e(a,b){this.K=a;this.name=b}function f(){}function g(a){return"undefined"==typeof a}function j(){}function n(){}function m(a){return a&&
a.toString?a.toString():""+a}function A(a){return a.message?a.message:a.description?a.description:m(a)}function aa(a){if(a){var b="Exception: "+A(a);try{if(a.lineNumber&&(b+=" on line number "+a.lineNumber),a.fileName)var c=b,d=a.fileName,e=Math.max(d.lastIndexOf("/"),d.lastIndexOf("\\")),b=c+(" in file "+d.substr(e+1))}catch(f){F.warn("Unable to obtain file and line information for error")}tc&&a.stack&&(b+=w+"Stack trace:"+w+a.stack);return b}return o}function V(a){return a.replace(/^\s+/,"").replace(/\s+$/,
"")}function C(a){return a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function uc(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)if(a[d]===b){c=d;break}0<=c&&a.splice(c,1)}function ga(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return k;return p}function ha(a,b){return g(a)?b:""+a}function Oa(a,b){if(g(a))return b;try{var c=parseInt(a,10);return isNaN(c)?b:c}catch(d){return F.warn("Invalid int param "+a,d),b}}function Dc(a){var b,c=window;b=b?b:window;if(c.addEventListener)c.addEventListener("unload",
a,i);else if(c.attachEvent)c.attachEvent("onunload",a);else{if(!c.__log4javascript_listeners__unload)c.__log4javascript_listeners__unload=[],c.onunload=function(a){for(var c=b,a=a?a:(c?c:window).event,c=this.__log4javascript_listeners__unload.concat([]),d;d=c.shift();)d.call(this,a)};c.__log4javascript_listeners__unload.push(a)}}function r(a,b){F.error(a,b);x.dispatchEvent("error",{message:a,exception:b})}function vc(a,b){this.name=a;this.K=g(b)?e.Ya:b;this.start=new Date}function W(a){this.name=
a;this.parent=o;this.children=[];var b=[],c=o,f=this.name===Ca,j=this.name===wc,n=o,Ja=p;this.Ol=function(a){this.children.push(a);a.parent=this;a.vb()};var X=k;this.om=function(){return X};this.Ep=function(a){var b=X!=a;X=a;b&&this.vb()};this.Lg=function(a){j?r("Logger.addAppender: you may not add an appender to the null logger"):a instanceof x.Ce?ga(b,a)||(b.push(a),a.Ih(this),this.vb()):r("Logger.addAppender: appender supplied ('"+m(a)+"') is not a subclass of Appender")};this.Bp=function(a){uc(b,
a);a.Mh(this);this.vb()};this.Ap=function(){var a=b.length;if(0<a){for(var c=0;c<a;c++)b[c].Mh(this);b.length=0;this.vb()}};this.Pc=function(){if(n===o||Ja)n=(f||!this.om()?[]:this.parent.Pc()).concat(b),Ja=p;return n};this.vb=function(){Ja=k;for(var a=0,b=this.children.length;a<b;a++)this.children[a].vb()};this.log=function(a,b){if(ba&&a.ue(this.wm())){var c,e=b.length-1,f=b[e];1<b.length&&f instanceof Error&&(c=f,e--);for(var f=[],g=0;g<=e;g++)f[g]=b[g];this.Wl(new d(this,new Date,a,f,c))}};this.Wl=
function(a){for(var b=this.Pc(),c=0,d=b.length;c<d;c++)b[c].em(a)};this.qa=function(a){f&&a===o?r("Logger.setLevel: you cannot set the level of the root logger to null"):a instanceof e?c=a:r("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")};this.Am=function(){return c};this.wm=function(){for(var a=this;a!==o;a=a.parent){var b=a.Am();if(b!==o)return b}};this.Va=function(a,b){if(ba)for(var c=this.Pc(),d=0,e=c.length;d<e;d++)c[d].Va(a,b)};this.Wa=
function(){if(ba)for(var a=this.Pc(),b=0,c=a.length;b<c;b++)a[b].Wa()};var Y={};this.Th=function(a,b){ba&&(g(a)?r("Logger.time: a name for the timer must be supplied"):b&&!(b instanceof e)?r("Logger.time: level supplied to timer "+a+" is not an instance of log4javascript.Level"):Y[a]=new vc(a,b))};this.eq=function(a){if(ba)if(g(a))r("Logger.timeEnd: a name for the timer must be supplied");else if(Y[a]){var b=Y[a];this.log(b.K,["Timer "+m(a)+" completed in "+b.xm()+"ms"]);delete Y[a]}else F.warn("Logger.timeEnd: no timer found with name "+
a)};this.Do=function(a){if(ba&&!a){for(var b=[],c=1,d=arguments.length;c<d;c++)b.push(arguments[c]);b=0<b.length?b:["Assertion Failure"];b.push(w);b.push(a);this.log(e.Db,b)}};this.toString=function(){return"Logger["+this.name+"]"}}function ia(){this.R=[]}function ca(){this.R=[]}function P(a){this.je=g(a)?k:Boolean(a);this.R=[]}function da(a,b){this.zb=g(a)?p:Boolean(a);this.je=g(b)?k:Boolean(b);this.Sg=this.zb?"["+w:"[";this.Rg=this.zb?"]"+w:"]";this.Tg=this.zb?","+w:",";this.Lh();this.Zl=this.zb?
": ":":";this.ze=this.zb?"\t":"";this.Yb=this.zb?w:"";this.R=[]}function pa(){this.Lh();this.R=[];this.Gh=k}function xc(a,b){function c(a,b,e){function f(a){for(var a=C(a),b=1,c=a.length;b<c;b++)a[b]=e+a[b];return a.join(w)}var g,Ba,l,j,q,n;e||(e="");if(a===o)return"null";if("undefined"==typeof a)return"undefined";if("string"==typeof a)return f(a);if("object"==typeof a&&ga(d,a)){try{q=m(a)}catch(ib){q="Error formatting property. Details: "+aa(ib)}return q+" [already expanded]"}if(a instanceof Array&&
0<b){d.push(a);q="["+w;Ba=b-1;l=e+"  ";j=[];for(g=0,b=a.length;g<b;g++)try{n=c(a[g],Ba,l),j.push(l+n)}catch(r){j.push(l+"Error formatting array member. Details: "+aa(r)+"")}return q+=j.join(","+w)+w+e+"]"}if("object"==typeof a&&0<b){d.push(a);q="{"+w;Ba=b-1;l=e+"  ";j=[];for(g in a)try{n=c(a[g],Ba,l),j.push(l+g+": "+n)}catch(A){j.push(l+g+": Error formatting property. Details: "+aa(A))}return q+=j.join(","+w)+w+e+"}"}return f(m(a))}var d=[];return c(a,b,i)}function D(a){this.pattern=a?a:D.ki;this.R=
[]}function qa(){}function ja(){}function ra(b){function c(a){return F?(r("AjaxAppender: configuration option '"+a+"' may not be set after the appender has been initialized"),p):k}function d(){if(Y&&ba){D=k;var a;if(l)0<T.length?(a=T.shift(),Ja(j(a),d)):(D=p,y&&window.setTimeout(d,q));else{for(;a=T.shift();)Ja(j(a));D=p;y&&window.setTimeout(d,q)}}}function e(){if(Y&&ba){for(var a=X.C.ge()?Pa:1,b,c=[];b=O.shift();)c.push(b),O.length>=a&&(T.push(c),c=[]);0<c.length&&T.push(c);y=l=p;d()}}function j(a){var b=
[],c;for(c="";c=a.shift();)c=X.C.ga(c),X.C.pa()&&(c+=loggingEvent.Rc()),b.push(c);c=1==a.length?b.join(""):X.C.Sg+b.join(X.C.Tg)+X.C.Rg;c=X.C.Gh?c:sa(A)+"="+sa(c);0<c.length&&(c+="&");return c+"layout="+sa(X.C.toString())}function n(){r("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled");Y=p;w&&w("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled")}function Ja(c,d){try{var e=a(n);if(Y){e.overrideMimeType&&e.overrideMimeType(X.C.pe());e.onreadystatechange=
function(){if(4==e.readyState){if(g(e.status)||0===e.status||200<=e.status&&300>e.status)m&&m(e),d&&d(e);else{var a="AjaxAppender.append: XMLHttpRequest request to URL "+b+" returned status code "+e.status;r(a);w&&w(a)}e.onreadystatechange=f;e=o}};e.open("POST",b,k);try{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(l){r("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");
Y=p;w&&w("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");return}e.send(c)}}catch(j){var y="AjaxAppender.append: error sending log message to "+b;r(y,j);Y=p;w&&w(y+". Details: "+aa(j))}}var X=this,Y=k;b||(r("AjaxAppender: URL must be specified in constructor"),Y=p);var y=this.n.Fn,l=this.n.Pn,Pa=this.n.Vl,q=this.n.Gn,m=this.n.fn,w=this.n.km,A=this.n.Wm,C=this.n.hn,N=o,O=[],T=[],D=p,F=p;this.bp=
function(){return N};this.wn=function(a){N=ha(a,o);this.C.nn("sessionid",N)};this.cd=function(a){if(c("layout"))this.C=a,N!==o&&this.wn(N)};this.np=function(){return y};this.Yp=function(a){c("timed")&&(y=Boolean(a))};this.cp=function(){return q};this.Zp=function(a){c("timerInterval")&&(q=Oa(a,q))};this.qp=function(){return l};this.bq=function(a){c("waitForResponse")&&(l=Boolean(a))};this.To=function(){return Pa};this.Hp=function(a){c("batchSize")&&(Pa=Oa(a,Pa))};this.jp=function(){return C};this.Wp=
function(a){c("sendAllOnUnload")&&(C=Oa(a,C))};this.Up=function(a){m="function"==typeof a?a:m};this.Mp=function(a){w="function"==typeof a?a:w};this.$o=function(){return A};this.Rp=function(a){c("postVarName")&&(A=ha(a,A))};this.Dp=d;this.append=function(a){if(Y&&(F||(F=k,C&&Dc(e),y&&window.setTimeout(d,q)),O.push(a),O.length>=(this.C.ge()?Pa:1))){for(var b=[];a=O.shift();)b.push(a);T.push(b);!y&&(!l||l&&!D)&&d()}}}function Da(a){try{return Boolean(a.loaded)}catch(b){return p}}function yc(a,b){if(a.length<
b){for(var c=[],d=Math.max(0,b-a.length),e=0;e<d;e++)c[e]=" ";a+=c.join("")}return a}j.prototype={Vb:[],Lc:{},Kh:function(a){if(a instanceof Array){this.Vb=a;this.Lc={};for(var a=0,b=this.Vb.length;a<b;a++)this.Lc[this.Vb[a]]=[]}else r("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(a,b){"function"==typeof b?(ga(this.Vb,a)||r("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+a+"'"),this.Lc[a].push(b)):
r("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},dispatchEvent:function(a,b){if(ga(this.Vb,a))for(var c=this.Lc[a],d=0,e=c.length;d<e;d++)c[d](this,a,b);else r("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+a+"'")}};var zc=new Date,Ac="log4javascript_"+zc.getTime()+"_"+Math.floor(1E8*Math.random()),w="\r\n",kb=p;n.prototype=new j;x=new n;x.version="1.4.2";x.Ko="log4javascript";var sa="undefined"!=typeof window.Lo?function(a){return encodeURIComponent(a)}:
function(a){return escape(a).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};if(!Function.prototype.apply)Function.prototype.apply=function(a,b){var c="__apply__";"undefined"!=typeof a[c]&&(c+=(""+Math.random()).substr(2));a[c]=this;for(var d=[],e=0,f=b.length;e<f;e++)d[e]="args["+e+"]";d=eval("obj."+c+"("+d.join(",")+")");delete a[c];return d};if(!Function.prototype.call)Function.prototype.call=function(a){for(var b=[],c=1,d=arguments.length;c<
d;c++)b[c-1]=arguments[c];return this.apply(a,b)};var F={Ch:p,Yg:[],Sp:function(a){this.Ch=Boolean(a)},Qm:0,Ng:p,Fp:t("Ng"),O:function(a){this.Yg.push(a)},Jo:function(){alert(this.Yg.join(w))},warn:s(),error:function(a,b){if((1==++this.Qm||this.Ng)&&!this.Ch){var c="log4javascript error: "+a;b&&(c+=w+w+"Original error: "+aa(b));alert(c)}}};x.tp=F;x.Kh(["load","error"]);x.handleError=r;var ba=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);x.Lp=function(a){ba=Boolean(a)};x.isEnabled=
function(){return ba};var Ea=k;x.zn=function(a){Ea=Boolean(a)};x.Uc=function(){return Ea};x.Oo=function(a){return eval(a)};var tc=p;x.Xp=function(a){tc=Boolean(a)};e.prototype={toString:u("name"),Kc:function(a){return this.K==a.K},ue:function(a){return this.K>=a.K}};e.$h=new e(Number.MIN_VALUE,"ALL");e.rd=new e(1E4,"TRACE");e.Cb=new e(2E4,"DEBUG");e.Ya=new e(3E4,"INFO");e.ff=new e(4E4,"WARN");e.Db=new e(5E4,"ERROR");e.Me=new e(6E4,"FATAL");e.Ei=new e(Number.MAX_VALUE,"OFF");x.za=e;vc.prototype.xm=
function(){return(new Date).getTime()-this.start.getTime()};var wc="[null]",Ca="root";W.prototype={Vh:function(){this.log(e.rd,arguments)},O:function(){this.log(e.Cb,arguments)},info:function(){this.log(e.Ya,arguments)},warn:function(){this.log(e.ff,arguments)},error:function(){this.log(e.Db,arguments)},Nc:function(){this.log(e.Me,arguments)}};W.prototype.Vh.Xb=k;W.prototype.O.Xb=k;W.prototype.info.Xb=k;W.prototype.warn.Xb=k;W.prototype.error.Xb=k;W.prototype.Nc.Xb=k;var ya={},Ec=[],Bc=e.Cb,va=new W(Ca);
va.qa(Bc);x.ap=function(){return va};x.qe=function(a){"string"!=typeof a&&(a="[anonymous]",F.warn("log4javascript.getLogger: non-string logger name "+m(a)+" supplied, returning anonymous logger"));a==Ca&&r("log4javascript.getLogger: root logger may not be obtained by name");if(!ya[a]){var b=new W(a);ya[a]=b;Ec.push(a);var c=a.lastIndexOf(".");(-1<c?x.qe(a.substring(0,c)):va).Ol(b)}return ya[a]};var Fa=o;x.Xo=function(){if(!Fa){Fa=x.qe("[default]");var a=new x.Fi;Fa.Lg(a)}return Fa};var za=o;x.Zo=
function(){za||(za=new W(wc),za.qa(e.Ei));return za};x.Cp=function(){va.qa(Bc);ya={}};d.prototype={Rc:function(){return this.Ua?aa(this.Ua):""},oe:function(){return 1==this.xa.length?this.xa[0]:this.xa.join(w)},toString:function(){return"LoggingEvent["+this.K+"]"}};x.eo=d;c.prototype={n:{Xc:"logger",ed:"timestamp",Zc:"milliseconds",Vc:"level",Yc:"message",Mc:"exception",fd:"url"},Xc:"logger",ed:"timestamp",Zc:"milliseconds",Vc:"level",Yc:"message",Mc:"exception",fd:"url",Sg:"",Rg:"",Tg:"",Gh:p,Bh:p,
Xh:o,ga:function(){r("Layout.format: layout supplied has no format() method")},pa:function(){r("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},pe:v("text/plain"),ge:v(k),zn:function(a){this.Bh=k;this.Xh=Boolean(a)},Uc:function(){return this.Bh?this.Xh:Ea},oh:function(a){return this.Uc()?a.Uh:a.En},kh:function(a,b){var c=[[this.Xc,a.Wc.name],[this.ed,this.oh(a)],[this.Vc,a.K.name],[this.fd,window.location.href],[this.Yc,b?a.oe():a.xa]];this.Uc()||c.push([this.Zc,a.xh]);
a.Ua&&c.push([this.Mc,aa(a.Ua)]);if(this.se())for(var d=0,e=this.R.length;d<e;d++){var f=this.R[d].value;"function"===typeof f&&(f=f(this,a));c.push([this.R[d].name,f])}return c},Lh:function(a,b,c,d,e,f,g){this.Xc=ha(a,this.n.Xc);this.ed=ha(b,this.n.ed);this.Vc=ha(c,this.n.Vc);this.Yc=ha(d,this.n.Yc);this.Mc=ha(e,this.n.Mc);this.fd=ha(f,this.n.fd);this.Zc=ha(g,this.n.Zc)},nn:function(a,b){for(var c=p,d=0,e=this.R.length;d<e;d++)if(this.R[d].name===a)this.R[d].value=b,c=k;c||this.R.push({name:a,value:b})},
se:function(){return 0<this.R.length},toString:function(){r("Layout.toString: all layouts must override this method")}};x.co=c;b.prototype=new j;b.prototype.C=new D;b.prototype.Ae=e.$h;b.prototype.ve=[];b.prototype.em=function(a){ba&&a.K.K>=this.Ae.K&&this.append(a)};b.prototype.append=s();b.prototype.cd=function(a){a instanceof c?this.C=a:r("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")};b.prototype.yn=function(){var a=x.za.rd;a instanceof e?this.Ae=a:r("Appender.setThreshold: threshold supplied to "+
this.toString()+" is not a subclass of Level")};b.prototype.Ih=function(a){this.ve.push(a)};b.prototype.Mh=function(a){uc(this.ve,a)};b.prototype.Va=f;b.prototype.Wa=f;b.prototype.toString=function(){r("Appender.toString: all appenders must override this method")};x.Ce=b;ia.prototype=new c;ia.prototype.ga=function(a){return a.K.name+" - "+a.oe()};ia.prototype.pa=v(k);ia.prototype.toString=v("SimpleLayout");x.oo=ia;ca.prototype=new c;ca.prototype.ga=function(a){return a.xa};ca.prototype.pa=v(k);ca.prototype.toString=
v("NullLayout");x.ho=ca;P.prototype=new c;P.prototype.pe=v("text/xml");P.prototype.im=function(a){return a.replace(/\]\]>/,"]]\>]]&gt;<![CDATA[")};P.prototype.ga=function(a){function b(a){a="string"===typeof a?a:m(a);return"<log4javascript:message><![CDATA["+c.im(a)+"]]\></log4javascript:message>"}var c=this,d,e,f='<log4javascript:event logger="'+a.Wc.name+'" timestamp="'+this.oh(a)+'"';this.Uc()||(f+=' milliseconds="'+a.xh+'"');f+=' level="'+a.K.name+'">'+w;if(this.je)f+=b(a.oe());else{f+="<log4javascript:messages>"+
w;for(d=0,e=a.xa.length;d<e;d++)f+=b(a.xa[d])+w;f+="</log4javascript:messages>"+w}if(this.se())for(d=0,e=this.R.length;d<e;d++)f+='<log4javascript:customfield name="'+this.R[d].name+'"><![CDATA['+this.R[d].value.toString()+"]]\></log4javascript:customfield>"+w;a.Ua&&(f+="<log4javascript:exception><![CDATA["+aa(a.Ua)+"]]\></log4javascript:exception>"+w);return f+="</log4javascript:event>"+w+w};P.prototype.pa=v(p);P.prototype.toString=v("XmlLayout");x.uo=P;da.prototype=new c;da.prototype.ga=function(a){function b(a,
d,e){var f=typeof a;if(a instanceof Date)e=""+a.getTime();else if(e&&a instanceof Array){for(var e="["+c.Yb,f=0,g=a.length;f<g;f++){var j=d+c.ze,e=e+(j+b(a[f],j,p));f<a.length-1&&(e+=",");e+=c.Yb}e+=d+"]"}else e="number"!==f&&"boolean"!==f?'"'+m(a).replace(/\"/g,'\\"').replace(/\r\n|\r|\n/g,"\\r\\n")+'"':a;return e}var c=this,a=this.kh(a,this.je),d="{"+this.Yb,e,f;for(e=0,f=a.length-1;e<=f;e++)d+=this.ze+'"'+a[e][0]+'"'+this.Zl+b(a[e][1],this.ze,k),e<f&&(d+=","),d+=this.Yb;return d+="}"+this.Yb};
da.prototype.pa=v(p);da.prototype.toString=v("JsonLayout");da.prototype.pe=v("application/json");x.ao=da;pa.prototype=new c;pa.prototype.ge=v(p);pa.prototype.ga=function(a){for(var a=this.kh(a),b=[],c=0,d=a.length;c<d;c++){var e=a[c][1]instanceof Date?""+a[c][1].getTime():a[c][1];b.push(sa(a[c][0])+"="+sa(e))}return b.join("&")};pa.prototype.pa=v(p);pa.prototype.toString=v("HttpPostDataLayout");x.Zn=pa;var ta;(function(){function a(b,c){for(;b.length<c;)b="0"+b;return b}function b(a,c,d){a=new Date(a,
c,d,0,0,0);a.setMilliseconds(0);return a}var c=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,d="January,February,March,April,May,June,July,August,September,October,November,December".split(","),e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),f={Xn:0,y:3,fo:4,fq:2,so:2,Un:2,Io:2,Vn:2,E:1,Ao:0,Yn:2,rp:2,bo:2,Z:2,vp:2,Ab:2,lo:2,vo:5};Date.prototype.vm=function(a){return this.getTime()-a.getTime()};Date.prototype.th=function(a){return this.getTime()<
a.getTime()};Date.prototype.qh=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.prototype.re=function(a){return this.qh()-a.qh()};Date.prototype.nh=function(){var a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0)).getTime()-864E5*this.getDay());return b(a.getFullYear(),a.getMonth(),a.getDate())};Date.prototype.Dm=function(a){g(this.we)&&(a=1);var c=this.nh(),d=
b(this.getFullYear(),0,1),c=c.th(d)?0:1+Math.floor(c.re(d)/6048E5);7-d.getDay()<a&&c--;return c};Date.prototype.Cm=function(a){g(this.we)&&(a=1);var c=this.nh(),d=b(this.getFullYear(),this.getMonth(),1),c=c.th(d)?0:1+Math.floor(c.re(d)/6048E5);7-d.getDay()>=a&&c++;return c};Date.prototype.tm=function(){var a=b(this.getFullYear(),0,1);return 1+Math.floor(this.re(a)/864E5)};ta=t("mm");ta.prototype.mh=function(){return g(this.we)?1:this.we};ta.prototype.ga=function(b){for(var g="",j,n=this.mm;j=c.exec(n);){var l=
j[1],m=j[2],q=j[3],w=j[4];if(l)g="''"==l?g+"'":g+l.substring(1,l.length-1);else if(!q)if(w)g+=w;else if(m){l=m.charAt(0);m=m.length;q="";switch(l){case "G":q="AD";break;case "y":q=b.getFullYear();break;case "M":q=b.getMonth();break;case "w":q=b.Dm(this.mh());break;case "W":q=b.Cm(this.mh());break;case "D":q=b.tm();break;case "d":q=b.getDate();break;case "F":q=1+Math.floor((b.getDate()-1)/7);break;case "E":q=e[b.getDay()];break;case "a":q=12<=b.getHours()?"PM":"AM";break;case "H":q=b.getHours();break;
case "k":q=b.getHours()||24;break;case "K":q=b.getHours()%12;break;case "h":q=b.getHours()%12||12;break;case "m":q=b.getMinutes();break;case "s":q=b.getSeconds();break;case "S":q=b.getMilliseconds();break;case "Z":q=b.getTimezoneOffset()}switch(f[l]){case 0:g+=4<=m?q:q.substr(0,Math.max(2,m));break;case 1:g+=4<=m?q:q.substr(0,Math.max(3,m));break;case 2:g+=a(""+q,m);break;case 3:g=3>=m?g+(""+q).substr(2,2):g+a(""+q,m);break;case 4:g=3<=m?g+(4<=m?d[q]:d[q].substr(0,Math.max(m,m))):g+a(""+(q+1),m);
break;case 5:m=0<q?"-":"+",q=Math.abs(q),l=""+Math.floor(q/60),l=a(l,2),q=""+q%60,q=a(q,2),g+=m+l+q}}n=n.substr(j.index+j[0].length)}return g}})();x.no=ta;D.ro="%r %p %c - %m%n";D.ki="%m%n";D.Qe="yyyy-MM-dd HH:mm:ss,SSS";D.ji="dd MMM yyyy HH:mm:ss,SSS";D.Zh="HH:mm:ss,SSS";D.prototype=new c;D.prototype.ga=function(a){for(var b=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,c="",d,e=this.pattern;d=b.exec(e);){var f=d[0],g=d[1],j=d[2],n=d[3],y=d[5],l=d[6];if(l)c+=""+l;else{l="";switch(n){case "a":case "m":f=
0;y&&(f=parseInt(y,10),isNaN(f)&&(r("PatternLayout.format: invalid specifier '"+y+"' for conversion character '"+n+"' - should be a number"),f=0));for(var y="a"===n?a.xa[0]:a.xa,n=0,m=y.length;n<m;n++)0<n&&" "!==l.charAt(l.length-1)&&(l+=" "),l=0===f?l+y[n]:l+xc(y[n],f);break;case "c":l=a.Wc.name;y&&(y=parseInt(y,10),f=a.Wc.name.split("."),l=y>=f.length?l:f.slice(f.length-y).join("."));break;case "d":l=D.Qe;if(y)if(l=y,"ISO8601"==l)l=D.Qe;else if("ABSOLUTE"==l)l=D.Zh;else if("DATE"==l)l=D.ji;l=(new ta(l)).ga(a.timeStamp);
break;case "f":if(this.se())l=0,y&&(l=parseInt(y,10),isNaN(l)?r("PatternLayout.format: invalid specifier '"+y+"' for conversion character 'f' - should be a number"):0===l?r("PatternLayout.format: invalid specifier '"+y+"' for conversion character 'f' - must be greater than zero"):l>this.R.length?r("PatternLayout.format: invalid specifier '"+y+"' for conversion character 'f' - there aren't that many custom fields"):l-=1),l=this.R[l].value;break;case "n":l=w;break;case "p":l=a.K.name;break;case "r":l=
""+a.timeStamp.vm(zc);break;case "%":l="%";break;default:l=f}if(j)j=parseInt(j.substr(1),10),y=l.length,j<y&&(l=l.substring(y-j,y));if(g)if("-"==g.charAt(0))for(j=parseInt(g.substr(1),10);l.length<j;)l+=" ";else for(j=parseInt(g,10);l.length<j;)l=" "+l;c+=l}e=e.substr(d.index+d[0].length)}return c};D.prototype.pa=v(k);D.prototype.toString=v("PatternLayout");x.io=D;qa.prototype=new b;qa.prototype.C=new ia;qa.prototype.append=function(a){var b=this.C.ga(a);this.C.pa()&&(b+=a.Rc());alert(b)};qa.prototype.toString=
v("AlertAppender");x.Tn=qa;ja.prototype=new x.Ce;ja.prototype.C=new ca;ja.prototype.Ae=e.Cb;ja.prototype.append=function(a){function b(){var d=c.C,e=d.ga(a);d.pa()&&a.Ua&&(e+=a.Rc());return e}var c=this;if("undefined"!=typeof opera&&opera.postError)opera.postError(b());else if(window.console&&window.console.log){var d=b();window.console.O&&e.Cb.ue(a.K)?window.console.O(d):window.console.info&&e.Ya.Kc(a.K)?window.console.info(d):window.console.warn&&e.ff.Kc(a.K)?window.console.warn(d):window.console.error&&
a.K.ue(e.Db)?window.console.error(d):window.console.log(d)}};ja.prototype.Va=function(a){window.console&&window.console.Va&&window.console.Va(a)};ja.prototype.Wa=function(){window.console&&window.console.Wa&&window.console.Wa()};ja.prototype.toString=v("BrowserConsoleAppender");x.ai=ja;var sc=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];ra.prototype=new b;ra.prototype.n={Pn:p,Fn:p,Gn:1E3,Vl:1,
hn:k,fn:o,km:o,Wm:"data"};ra.prototype.C=new pa;ra.prototype.toString=v("AjaxAppender");x.Sn=ra;var E;(function(){function a(b,c,d,e,f){this.create(p,o,b,c,d,e,f,this.n.lm)}function c(a,b,d,e,f,g){this.create(k,a,b,d,e,f,g,p)}var f=[];E=s();var j=1;E.prototype=new b;E.prototype.create=function(a,b,c,n,m,y,l,A){function q(){var a=document.domain!=location.hostname;if(m)a="";else{var b;a:{b=document.getElementsByTagName("script");for(var c=0,d=b.length;c<d;++c)if(-1!=b[c].src.indexOf("log4javascript")){d=
b[c].src.lastIndexOf("/");b=-1==d?"":b[c].src.substr(0,d+1);break a}b=o}a=b+"console.html"+(a?"?log4javascript_domain="+escape(document.domain):"")}return a}function Va(a,b,c,d){var e=setInterval(function(){try{U&&clearInterval(e),a(H())&&(clearInterval(e),c())}catch(b){clearInterval(e),la=p,r(d,b)}},b)}function C(){var a=H();a.Gp(Z);a.sn(ga);a.un(ia);a.ye(ca);a.dd(da);a.Oh(ra);a.Nh(sa);a.Qp(window);var b;a:{b=escape("log4javascriptCommandHistory")+"=";for(var c=document.cookie.split(";"),d=0,e=c.length;d<
e;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b)){b=unescape(f.substring(b.length,f.length));break a}}b=o}if(b)a.$l=b.split(","),a.Ho=a.$l.length;Z.dispatchEvent("load",{win:a})}function E(a){var b=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',
"<\!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\>",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','<\!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\>','<\!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\>','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}",
"function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}",
"if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",
'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',
"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",
'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}',
'GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",
'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',
"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}",
"this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}",
"this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",
'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}',
'LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}',
'LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',
"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}',
'this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',
"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",
'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}',
'logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',
"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}",
"var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}",
"matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",
'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}",
"var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}",
"return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}",
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}",
"displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}",
"var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",
'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}',
'function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}',
'function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}",
"searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}",
"return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',
"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+",
"preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}",
"logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}",
"var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}",
"setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',
"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}",
"this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}',
'currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}',
'addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}",
"function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}',
'function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}',
'if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',
"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}',
'function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}',
'function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}",
"function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}",
"currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}",
"return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-',
'($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}",
"this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}",
"return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}",
"return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',
"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',
"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}",
"currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]\>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}",
"</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>',
'<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>',
'<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />',
'<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>',
'<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>',
'<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>',
'<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />',
'<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />',
'<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];a.open();for(var c=0,d=b.length;c<d;c++)a.writeln(b[c]);a.close()}function jb(){for(;0<P.length;)P.shift().append();A&&H().focus()}function N(){Qa();V?U&&Ea&&Ka():ta();Qa()&&jb()}function O(){return ka&&la&&!U}function T(a){return xa?(r(ib+": configuration option '"+a+"' may not be set after the appender has been initialized"),
p):k}function Ba(a,b){this.up=a;this.Km=a.K.name;this.nm=b}function W(a,b){this.name=a;this.Im=b}function ja(){}var Z=this,V=p,xa=p,ka=p,U=p,P=[],la=k,pa=j++,n=g(n)?this.n.sh:Boolean(n),c=g(c)?this.n.uh:Boolean(c),m=g(m)?this.n.Wh:Boolean(m),ga=this.n.yh,ia=this.n.Hh,y=y?y:this.n.width,l=l?l:this.n.height,ca=this.n.wh,da=this.n.Qh,qa=this.n.Xg,ra=this.n.Rh,sa=this.n.Ph;this.cd(this.n.C);var ta,Ka,Qa,H,Ga,ib=a?"InPageAppender":"PopUpAppender";this.gp=function(){return ga};this.tn=function(){ga=Boolean(k);
O()&&H().sn(ga)};this.ip=function(){return ia};this.Vp=function(a){ia=Boolean(a);O()&&H().un(ia)};this.h=function(){return y};this.cq=function(a){T("width")&&(y=ha(a,y))};this.j=function(){return l};this.Op=function(a){T("height")&&(l=ha(a,l))};this.Yo=function(){return ca};this.ye=function(a){ca=Oa(a,ca);O()&&H().ye(ca)};this.lp=function(){return da};this.dd=function(a){da=Boolean(a);O()&&H().dd(da)};this.mp=function(){return ra};this.Oh=function(a){ra=Boolean(a);O()&&H().Oh(ra)};this.kp=function(){return sa};
this.Nh=function(a){sa=Boolean(a);O()&&H().Nh(sa)};this.Vo=function(){return qa};this.kn=function(a){qa=Oa(a,qa)};var Ra=n;this.fp=function(){return n};this.Pp=function(a){T("initiallyMinimized")&&(Ra=n=Boolean(a))};this.op=function(){return m};this.$p=function(a){T("useDocumentWrite")&&(m=Boolean(a))};Ba.prototype.append=function(){H().log(this.Km,this.nm)};W.prototype.append=function(){H().Va(this.name,this.Im)};ja.prototype.append=function(){H().Wa()};this.append=function(a){if(la){var b=Z.C.ga(a);
this.C.pa()&&(b+=a.Rc());P.push(new Ba(a,b));N()}};this.Va=function(a,b){la&&(P.push(new W(a,b)),N())};this.Wa=function(){la&&(P.push(new ja),N())};this.Ih=function(a){this.ve.push(a);ba&&!c&&ta()};this.clear=function(){O()&&H().Fo();P.length=0};this.focus=function(){O()&&H().focus()};this.Ro=s();this.So=s();var S=window;this.sm=function(){return S};this.ln=function(a){S=a};this.Qo=function(){O()&&H().Po()};var ya=new D("%m");this.Uo=function(){return ya};this.Jp=function(a){ya=a};this.Mo=function(a){var b=
{Qg:k,Tc:p},c="";try{var f,j;!S.eval&&S.execScript&&S.execScript("null");var l={};for(j=0,len=La.length;j<len;j++)l[La[j][0]]=La[j][1];var n=[],q=function(a){n.push([a,S[a]])};q("appender");S.Co=Z;q("commandReturnValue");S.Go=b;q("commandLineFunctionsHash");S.am=l;l=function(a){q(a);S[a]=function(){return this.am[a](Z,arguments,b)}};for(j=0,len=La.length;j<len;j++)l(La[j][0]);S===window&&S.execScript?(q("evalExpr"),q("result"),window.No=a,S.execScript("window.result=eval(window.evalExpr);"),f=window.result):
f=S.eval(a);c=g(f)?f:xc(f,qa);for(j=0,len=n.length;j<len;j++)S[n[j][0]]=n[j][1]}catch(m){c="Error evaluating command: "+aa(m),b.Tc=k}if(b.Qg)a=">>> "+a,g(c)||(a+=w+c),c=new d(o,new Date,b.Tc?e.Db:e.Ya,[a],o),a=this.C,this.cd(ya),this.append(c),this.cd(a)};var La=f.concat([]);this.Bo=function(a,b){La.push([a,b])};this.dq=function(a){var a=a.join(","),b;document.cookie=escape("log4javascriptCommandHistory")+"="+escape(a)+""+(b?"; path="+b:"")};this.Kh(["load","unload"]);this.ac=function(){F.O("unload "+
this+", caller: "+this.ac.caller);U||(F.O("really doing unload "+this),U=k,xa=ka=p,Z.dispatchEvent("unload",{}))};if(a){var wa=o,va=[];this.Mg=function(a,b){T("cssProperties")&&va.push([a,b])};var Fa=p,ua,za=Ac+"_InPageAppender_"+pa;this.Fm=function(){if(V&&xa)O()&&H().Rn("command").blur(),ua.style.display="none",Ra=k};this.show=function(){if(V)xa?(ua.style.display="block",this.dd(da),Ra=p):Fa||Ka(k)};this.Jm=function(){return!Ra&&!U};this.close=function(a){if(!U&&(!a||confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")))ua.parentNode.removeChild(ua),
this.ac()};Ga=function(){function a(b){try{return Boolean(b)&&Boolean(b.document)}catch(c){return p}}function b(){try{n||Z.show(),C(),ka=k,jb()}catch(a){la=p,r(d,a)}}function c(){try{var a=function(a){return Da(a)};m&&E(H().document);Da(H())?b():Va(a,100,b,d)}catch(e){la=p,r(d,e)}}var d="InPageAppender.open: unable to create console iframe";Ra=p;ua=wa.appendChild(document.createElement("div"));ua.style.width=y;ua.style.height=l;ua.style.border="solid gray 1px";for(var e=0,f=va.length;e<f;e++)ua.style[va[e][0]]=
va[e][1];ua.innerHTML="<iframe id='"+za+"' name='"+za+"' width='100%' height='100%' frameborder='0'"+(m?"":" src='"+q()+"'")+" scrolling='no'></iframe>";U=p;a(H())?c():Va(a,100,c,d);xa=k};Ka=function(a){if(a||!n)a=function(){if(b)try{var a=document.getElementById(b);1==a.nodeType&&(wa=a);Ga()}catch(c){r("InPageAppender.init: invalid container element '"+b+"' supplied",c)}else wa=document.createElement("div"),wa.style.position="fixed",wa.style.left="0",wa.style.right="0",wa.style.bottom="0",document.body.appendChild(wa),
Z.Mg("borderWidth","1px 0 0 0"),Z.Mg("zIndex",1E6),Ga()},kb&&b&&b.appendChild?(wa=b,Ga()):kb?a():x.addEventListener("load",a),Fa=k};ta=function(){Ka();V=k};H=function(){var a=window.frames[za];if(a)return a};Qa=function(){return la&&!U?(xa&&!ka&&H()&&Da(H())&&(ka=k),ka):p}}else{var Sa=Z.n.In,Ca=Z.n.bm,Ea=this.n.en;this.pp=function(){return Sa};this.aq=function(a){T("useOldPopUp")&&(Sa=Boolean(a))};this.dp=function(){return Ca};this.Kp=function(a){T("complainAboutPopUpBlocking")&&(Ca=Boolean(a))};
this.ep=function(){return A};this.Np=function(a){A=Boolean(a)};this.hp=function(){return Ea};this.Tp=function(a){Ea=Boolean(a)};this.close=function(){F.O("close "+this);try{$.close(),this.ac()}catch(a){}};this.Fm=function(){F.O("hide "+this);O()&&this.close()};this.show=function(){F.O("show "+this);xa||Ga()};this.Jm=function(){return Qa()};var $;Ga=function(){function a(){U||Z.ac()}function b(a){if(U)return k;try{return Boolean(a)&&a.closed}catch(c){}return p}function c(){H().Ip(!Sa||!m);C();ka=k;
jb();Va(b,500,a,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var d="width="+y+",height="+l+",status,resizable",e="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+pa;if(!Sa||!m)e=e+"_"+Ac;try{$=window.open(q(),e,d),U=p,xa=k,$&&$.document?m&&Sa&&Da($)?($.wp(),c()):(m&&E($.document),d=function(a){return Boolean(a)&&Da(a)},Da($)?c():Va(d,100,c,"PopUpAppender.init: unable to create console window")):(la=p,F.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),
Ca&&r("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(f){r("PopUpAppender.init: error creating pop-up",f)}};Ka=function(){n||Ga()};ta=function(){Ka();V=k};H=function(){return $};Qa=function(){if(la&&!g($)&&!U){if($.closed||ka&&g($.closed))return Z.ac(),F.O("PopUpAppender: pop-up closed"),p;!ka&&Da($)&&(ka=k)}return la&&ka&&!U}}this.Wo=H};E.Ja=function(a,b){f.push([a,b])};a.prototype=new E;a.prototype.n={C:new D("%d{HH:mm:ss} %-5p - %m{1}%n"),
sh:p,lm:p,uh:k,In:k,bm:k,yh:p,Hh:k,width:"600",height:"400",en:p,wh:o,Qh:k,Xg:1,Rh:p,Ph:k,An:k,Wh:k};a.prototype.toString=v("PopUpAppender");x.Fi=a;c.prototype=new E;c.prototype.n={C:new D("%d{HH:mm:ss} %-5p - %m{1}%n"),sh:p,uh:k,yh:p,Hh:k,width:"100%",height:"220px",wh:o,Qh:k,Xg:1,Rh:p,Ph:p,An:k,Wh:k};c.prototype.toString=v("InPageAppender");x.zi=c;x.$n=c})();(function(){var a,b,c,d,e;function f(m,l,A,q,r){function D(a){for(var a=a.style.cssText.split(";"),b="",c=0,d=a.length;c<d;c++){var b=a[c].split(":"),
e=[];/^\s*$/.test(b[0])||e.push(V(b[0]).toLowerCase()+":"+V(b[1]));b=e.join(";")}return b}"string"!=typeof A&&(A="");q=!!q;r=!!r;if(("undefined"==typeof l?k:l)&&m.nodeType!=b)switch(m.nodeType){case c:var F=m.tagName.toLowerCase(),l=q?w+A:"",l=l+"<",r=m.prefix?m.prefix:m.outerHTML&&RegExp("<([^:]+):"+m.tagName+"[^>]*>","i").test(m.outerHTML)?RegExp.$1.toLowerCase():"";(q=!!r)&&(l+=r+":");l+=F;for(r=0,N=m.attributes.length;r<N;r++){var E=m.attributes[r];if(E.specified&&!(E.nodeValue===o||"style"===
E.nodeName.toLowerCase()||"string"!==typeof E.nodeValue||0===E.nodeName.indexOf("_moz")))l+=" "+E.nodeName.toLowerCase()+'="',l+=E.nodeValue.toString().replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\"/g,"&quot;"),l+='"'}m.style.cssText&&""!==D(m)&&(l+=' style="'+D(m)+'"');if(ga(j,F)||q&&!m.hasChildNodes())l+="/>";else{for(var l=l+">",q=!(1===m.childNodes.length&&m.childNodes[0].nodeType===a),E=ga(g,F),r=0,N=m.childNodes.length;r<N;r++)l+=f(m.childNodes[r],k,A+n,q,E);m="</"+F+">";l+=q?w+A+m:
m}return l;case a:if(m.nodeType==a&&/^[ \t\r\n]*$/.test(m.nodeValue))l="";else{if(r)l=m.nodeValue;else{m=C(V(m.nodeValue));l=[];r=0;for(N=m.length;r<N;r++)l[r]=V(m[r]);l=l.join(w+A)}q&&(l=w+A+l)}return l;case d:return"<![CDATA["+m.nodeValue+"]]\>"+w;case e:l="";r=0;for(N=m.childNodes.length;r<N;r++)l+=f(m.childNodes[r],k,A);return l;default:return""}else{l="";r=0;for(N=m.childNodes.length;r<N;r++)l+=f(m.childNodes[r],k,A+n);return l}}c=1;a=3;d=4;e=9;b=11;var g=["script","pre"],j="br,img,hr,param,link,area,input,col,base,meta".split(","),
n="  ";(function(){E.Ja("$",function(a,b){return document.getElementById(b[0])});E.Ja("dir",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++){var f=c,g=d,j=b[d],n=0,r=i;for(r in j)n=Math.max(m(r).length,n);var D=[];for(r in j){var E="  "+yc(m(r),n+2),F;try{F=C(m(j[r])).join(yc(w,n+6))}catch(P){F="[Error obtaining property. Details: "+A(P)+"]"}D.push(E+F)}f[g]=D.join(w)}return c.join(w+w)});E.Ja("dirxml",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++)c[d]=f(b[d]);return c.join(w+w)});E.Ja("cd",
function(a,b,c){var d;0===b.length||""===b[0]?(d=window,b="Command line set to run in main window"):b[0].window==b[0]?(d=b[0],b="Command line set to run in frame '"+b[0].name+"'"):(d=window.frames[b[0]])?b="Command line set to run in frame '"+b[0]+"'":(c.Tc=k,b="Frame '"+b[0]+"' does not exist",d=a.sm());a.ln(d);return b});E.Ja("clear",function(a,b,c){c.Qg=p;a.clear()});E.Ja("keys",function(a,b){var c=[],d;for(d in b[0])c.push(d);return c});E.Ja("values",function(a,b){var c=[],d;for(d in b[0])try{c.push(b[0][d])}catch(e){F.warn("values(): Unable to obtain value for key "+
d+". Details: "+A(e))}return c});E.Ja("expansionDepth",function(a,b,c){var d=parseInt(b[0],10);if(isNaN(d)||0>d)return c.Tc=k,""+b[0]+" is not a valid expansion depth";a.kn(d);return"Object expansion depth set to "+d})})();initialized=k})();x.bd=function(){kb=k;x.dispatchEvent("load",{})};if(window.addEventListener)window.addEventListener("load",x.bd,p);else if(window.attachEvent)window.attachEvent("onload",x.bd);else{var Cc=window.onload;window.onload="function"!=typeof window.onload?x.bd:function(a){Cc&&
Cc(a);x.bd()}}return window.sp=x}(),z;
(function(){z=s();z.Li=function(){return z.tl};z.Fb=function(){return z.ce};z.li=function(){return z.Dj};z.Se=function(a){return a.layerX||0===a.layerX?new B(a.layerX,a.layerY):new B(a.offsetX,a.offsetY)};z.Sf=function(a){var c=new B(a.offsetLeft,a.offsetTop);a.offsetParent&&(a=z.Sf(a.offsetParent),c.c+=a.c,c.b+=a.b);return c};z.Gg=p;z.Te=function(a){if(!a.pageX||!a.target){if(!z.Gg)z.Gg=k,WebvisuLogger.error("Evaluation of Touch events not supported because the browser uses an unexpected interface");return o}var c=
z.Sf(a.target);return new B(a.pageX-c.c,a.pageY-c.b)};z.yk=navigator.userAgent.match(/OS 6(_\d)+ like Mac OS X/i);z.Gm=function(){return z.yk};z.ag=function(a,c){a.style.cssText+="outline: none; -webkit-tap-highlight-color: rgba(0,0,0,0);";a.tabIndex=c};z.Ai=function(a,c){z.ag(a,2E3);z.ag(c,1E3)};z.pg=function(a){if(!(a===i||a===o||0<=a.indexOf("%")))return parseFloat(a)};z.el=function(a){if(a===i)return o;a=a.split(/[\s,]/);return 4>a.length?o:new fa(parseFloat(a[2]),parseFloat(a[3]))};z.Af=p;z.yi=
function(){return!z.Af};z.pl=function(a){try{if(0<=a.src.toLowerCase().indexOf(".svg")){WebvisuLogger.Vh("Derivation of SVG size for '"+a.src+"' failed. Parsing manually");var c=new XMLHttpRequest,d,e,f;c.open("GET",a.src,p);c.send();if(c.responseXML&&c.responseXML.documentElement){z.Af=k;d=z.pg(c.responseXML.documentElement.getAttribute("width"));e=z.pg(c.responseXML.documentElement.getAttribute("height"));if(d&&e)return new fa(d,e);f=z.el(c.responseXML.documentElement.getAttribute("viewBox"));if(f!==
o)return f}}}catch(g){WebvisuLogger.error("Exception during manual parsing of SVG size.")}return o};z.wi=function(a){if(a.naturalWidth&&a.naturalHeight)return new fa(a.naturalWidth,a.naturalHeight);if(a.width&&a.height)return new fa(a.width,a.height);a=z.pl(a);return a!==o?a:new fa(0,0)};z.Ki=function(){return z.sl};z.If="undefined"!==typeof MozBlobBuilder;z.Jf=p;if(z.If){var a=navigator.userAgent.indexOf("rv");if(-1!==a)a+=3,z.Jf=9<=parseInt(navigator.userAgent.substr(a,navigator.userAgent.indexOf(".",
a)-a),10)}z.sl=-1!==navigator.userAgent.indexOf("Safari");z.ce=function(){var a="undefined"===typeof ArrayBuffer||"undefined"==typeof Uint8Array||"undefined"!==typeof Int8Arary;a||(a=new ArrayBuffer(4),a=new Int8Array(a,1,2),a=2!==a.byteLength);return a}();z.Dj=function(){if(z.ce)return p;var a="undefined"!==typeof DataView,c,d,e,f;if(/opera [56789]|opera\/[56789]/i.test(navigator.userAgent)||/MSIE (\d+\.\d+);/.test(navigator.userAgent))return p;try{if(a){c=new ArrayBuffer(8);d=new Int8Array(c);for(f=
0;8>f;++f)d[f]=f;e=new DataView(c);if(a="function"===typeof e.getFloat64&&"function"===typeof e.getFloat32&&"function"===typeof e.getInt32&&"function"===typeof e.getUint32&&"function"===typeof e.getInt16&&"function"===typeof e.getUint16&&"function"===typeof e.getInt8&&"function"===typeof e.getInt8)e.getFloat64(0),e.getFloat32(0),e.getInt32(0),e.getUint32(0),e.getInt16(0),e.getUint16(0),e.getInt8(0),e.getInt8(0)}}catch(g){return p}return a}();z.tl=z.ce||!z.If||z.Jf})();var Configuration;
Configuration=function(){this.PlcAddress="0101";this.UseLocalHost=k;this.CommBufferSize=5E4;this.ErrorReconnectTime=1E4;this.Application="Application";this.UpdateRate=200;this.BestFit=p;this.StartVisu="Visualization";this.PollingRegistrationInterval=100;this.TimeMeasurements="";this.LogLevel="INFO";this.MaxUnusedImageAge=2E4;this.MaxUndrawnImageAge=1E4;this.NumCachedImages=15;this.DebugOnlyPrintPaintCommands=p;this.ChangeWindowTitle=k;this.TooltipFont="11px Arial";this.DefaultKeyActions=k;this.ANSIStringEncoding=
"iso-8859-1";this.CommitEditcontrolOnClickOut=k;this.HandleTouchEvents=p;this.FuzzyTransparencyColorEvaluation=k;this.TouchHandlingActive=this.Benchmarking=this.HasKeyboard=this.LoadImagesById=p;this.ClientName=""};
Configuration.prototype={Jn:function(){"string"!==typeof this.PlcAddress&&h(Error("Plc address must be of type string"));"boolean"!==typeof this.UseLocalHost&&h(Error("UseLocalHost must be of type boolean"));"number"!==typeof this.CommBufferSize&&h(Error("CommBufferSize must be of type number"));"number"!==typeof this.ErrorReconnectTime&&h(Error("ErrorReconnectTime must be of type number"));"string"!==typeof this.Application&&h(Error("Application must be of type string"));"number"!==typeof this.UpdateRate&&
h(Error("UpdateRate must be of type number"));"boolean"!==typeof this.BestFit&&h(Error("BestFit must be of type boolean"));"string"!==typeof this.StartVisu&&h(Error("StartVisu must be of type string"));"number"!==typeof this.PollingRegistrationInterval&&h(Error("PollingRegistrationInterval must be of type number"));"string"!==typeof this.TimeMeasurements&&h(Error("TimeMeasurements must be of type string"));"boolean"!==typeof this.DebugOnlyPrintPaintCommands&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));
"string"!==typeof this.TooltipFont&&h(Error("TooltipFont must be of type string"));"boolean"!==typeof this.DefaultKeyActions&&h(Error("DefaultKeyActions must be of type boolean"));"string"!==typeof this.ANSIStringEncoding&&h(Error("ANSIStringEncoding must be of type string"));"boolean"!==typeof this.FuzzyTransparencyColorEvaluation&&h(Error("FuzzyTransparencyColorEvaluation must be of type boolean"));"boolean"!==typeof this.LoadImagesById&&h(Error("LoadImagesById must be of type boolean"));"boolean"!==
typeof this.Benchmarking&&h(Error("Benchmarking must be of type boolean"));"boolean"!==typeof this.HasKeyboard&&h(Error("HasKeyboard must be of type boolean"));this.ph();this.S()},ph:function(){return new ma(this.TooltipFont)},S:function(){return new ea(this.ANSIStringEncoding)}};var na;na=function(a,b,c,d){this.CommBufferSize=a;this.ea=b;this.ic=c;this.ec=d;this.He=43981;this.U=0;this.Re=""};var oa;
oa=function(a,b,c,d,e,f,g,j,n){this.Mb=a;this.fa=d%360;this.vj=e;this.wj=f;this.Kd=g;(0===this.Kd||2===this.Kd)&&180<this.fa?(this.fa-=180,this.nc=j?G.T(c):G.T(n),this.Kb=G.T(b)):(this.nc=G.T(b),this.Kb=j?G.T(c):G.T(n))};
oa.prototype={ym:function(a,b){if(0===b.h()||0===b.j())return"#ffffff";switch(this.Kd){case 0:return this.of(a,b,p);case 1:return this.rj(a,b);case 2:return this.of(a,b,k);default:return"#ffffff"}},of:function(a,b,c){var d,e,f,g;f=b.rm();var j;d=90<this.fa?G.ya(180-this.fa):G.ya(this.fa);e=f.c-Math.max(b.j(),b.h())*Math.cos(d);g=f.b-Math.max(b.j(),b.h())*Math.sin(d);this.gg(f.c,f.b,e,g,b.f,b.g,b.f,b.v)?(f=d,d=b.h()/2*Math.tan(f),d=b.j()/2-d,f=Math.PI/2-f,f=d*Math.cos(f),e=f*f/d,g=d-e,j=Math.sqrt(Math.max(0,
g*e)),d=b.f-j,f=b.g+g,e=b.s+j,g=b.v-g):this.gg(f.c,f.b,e,g,b.f,b.g,b.s,b.g)?(f=d,d=b.j()/2/Math.tan(f),d=b.h()/2-d,f=Math.PI/2-f,f=Math.cos(f)*d,e=f*f/d,j=Math.sqrt(Math.max(0,(d-e)*e)),d=b.f+e,f=b.g-j,e=b.s-e,g=b.v+j):(d=b.f,f=b.g,e=b.s,g=b.v);90<this.fa&&(d=b.s-(d-b.f),e=b.s-(e-b.f));a=a.createLinearGradient(d,f,e,g);a.addColorStop(0,this.nc);c?(a.addColorStop(0.45,this.Kb),a.addColorStop(0.55,this.Kb),a.addColorStop(1,this.nc)):a.addColorStop(1,this.Kb);return a},rj:function(a,b){var c=new B(b.f+
b.h()*this.vj,b.g+b.j()*this.wj),d=this.mk(b,c),c=a.createRadialGradient(c.c,c.b,0,c.c,c.b,d);c.addColorStop(0,this.nc);c.addColorStop(1,this.Kb);return c},gg:function(a,b,c,d,e,f,g,j){var n;n=(j-f)*(c-a)-(g-e)*(d-b);g=(g-e)*(b-f)-(j-f)*(a-e);a=(c-a)*(b-f)-(d-b)*(a-e);if(0===n)return g===a;b=g/n;n=a/n;return 0<=b&&1>=b&&0<=n&&1>=n},mk:function(a,b){var c=[],d,e;c[0]=this.oc(new B(a.f,a.g),b);c[1]=this.oc(new B(a.s,a.g),b);c[2]=this.oc(new B(a.s,a.v),b);c[3]=this.oc(new B(a.f,a.v),b);for(d=e=0;4>d;++d)e=
Math.max(e,c[d]);return Math.sqrt(e)},oc:function(a,b){return(a.c-b.c)*(a.c-b.c)+(a.b-b.b)*(a.b-b.b)}};var Aa;Aa=function(a){this.a=a;this.Ob()};
Aa.prototype={Ob:function(){var a=this.a.oa.A.canvas,b=this;a.addEventListener("keydown",function(a){b.Lk(a)},p);a.addEventListener("keypress",function(a){b.Mk(a)},p);a.addEventListener("keyup",function(a){b.Nk(a)},p)},Mk:function(a){var b=this.a.m,a=this.bk(a);b!==o&&a!==o&&this.a.rb(I.gi(b.U,a))},Lk:function(a){var b=this.Xf(a),c=this.a.m;this.pf(a);c!==o&&b!==o&&this.a.rb(I.Fe(J.qi,c.U,b.key,b.hh))},Nk:function(a){var b=this.Xf(a),c=this.a.m;this.pf(a);c!==o&&b!==o&&this.a.rb(I.Fe(J.ri,c.U,b.key,
b.hh))},Xf:function(a){var a=a?a:event,b=a.keyCode,c=0;if(16<=b&&18>=b)return o;a.shiftKey&&(c|=1);a.altKey&&(c|=2);a.ctrlKey&&(c|=4);return{key:b,hh:c}},bk:function(a){var a=a?a:event,b=0;if(a.charCode)b=a.charCode;else if(a.which)b=a.which;if(0===b||a.altKey!==i&&a.altKey===k&&48<=b&&57>=b)return o;if(a.ctrlKey!==i&&a.ctrlKey||a.altKey!==i&&a.altKey)if(!(a.ctrlKey!==i&&a.ctrlKey)||!(a.altKey!==i&&a.altKey))return o;return String.fromCharCode(b)},pf:function(a){this.a.B!==o&&!this.a.B.DefaultKeyActions&&
a.preventDefault&&a.preventDefault()}};var Ha;Ha=function(a){this.a=a;this.Md=p;this.Ob()};
Ha.prototype={Ob:function(){var a=this.a.oa.A.canvas,b=this;a.addEventListener("mouseup",function(a){b.Rk(a)},p);a.addEventListener("mousedown",function(a){b.Pk(a)},p);a.addEventListener("mousemove",function(a){b.Qk(a)},p);a.addEventListener("touchstart",function(a){b.Vd(a)},k);a.addEventListener("touchmove",function(a){b.Vd(a)},k);a.addEventListener("touchend",function(a){b.Vd(a)},k)},Dd:function(a,b){this.a.m!==o&&this.a.rb(I.Ge(b,this.a.m.U,z.Se(a)))},cg:function(a){return 1===a.which},Rk:function(a){this.cg(a)&&
this.Dd(a,J.Ke)},Pk:function(a){this.cg(a)&&(this.a.Em()&&this.a.ke(this.a.B.CommitEditcontrolOnClickOut),this.a.Ib.Om(a),this.Dd(a,J.hd))},Qk:function(a){this.Md||this.Dd(a,J.cc)},Vd:function(a){if(this.a.B!==o&&this.a.B.HandleTouchEvents){var b,c=o;switch(a.type){case "touchstart":b=J.hd;this.Md=k;break;case "touchmove":b=J.cc;break;case "touchend":b=J.Ke;this.Md=p;break;default:return}a.touches&&1<=a.touches.length?c=z.Te(a.touches[0]):a.changedTouches&&1<=a.changedTouches.length&&(c=z.Te(a.changedTouches[0]));
c!==o&&(this.a.m!==o&&(b===J.hd&&this.a.Ib.Hn(c),this.a.rb(I.Ge(b,this.a.m.U,c))),a.preventDefault())}}};var Ia;Ia=function(a,b,c){this.hb=a;this.Cj=b;this.yd=c;this.ng=K.H(1E3)};Ia.prototype={Nm:function(){return this.Cj-this.ng.size()},sb:u("ng"),finish:function(){this.yd=0},Sc:function(){return 0===this.yd}};var Ma;Ma=t("a");Ma.prototype={jn:function(){var a=this.a.ca(),b=this.a.ja();b.On(this.a.m.U);a.ma(b.ka(),this,k)},la:s(),t:s()};var Na;
Na=function(a,b,c,d){this.a=a;a=this.Tf(b);c=this.Tf(c);(a.width!==c.width||a.height!==c.height)&&h(Error("Expected two canvasses of the same size"));z.Ai(a,c);if(d)a.width=c.width=window.innerWidth-20,a.height=c.height=window.innerHeight-20;this.ta=this.Uf(a);this.A=this.Uf(c);this.Id=new Ta;this.Rf=new Ua(this.A);this.lf=new Ua(this.ta);this.yc=p;this.$f=new Wa;this.Nd=new Xa(this.a);this.de=new Ya(this);this.xd=p};
Na.prototype={Oc:function(){return new L(0,0,this.ta.canvas.width,this.ta.canvas.height)},clear:function(){this.A.clearRect(0,0,this.A.canvas.width,this.A.canvas.height);this.ta.fillStyle="#ffffff";this.ta.fillRect(0,0,this.ta.canvas.width,this.ta.canvas.height)},qm:function(){var a=M.Xe(this.ta.canvas);return new B(a.f,a.g)},getContext:function(){return this.yc?this.ta:this.A},p:function(){return this.yc?this.lf:this.Rf},cn:function(){this.yc=k},dn:function(){this.yc=p},Yl:function(){this.xd=k},
jm:function(a,b){this.a.Ib.Bn();this.Id.clear();this.A.save();this.Rf.apply();this.lf.apply();var c=this.hl(a),d,e=p,f=this;for(d=0;d<c.length;++d)c[d]instanceof Za&&!c[d].Hm(this.Nd,this.$f)&&(e=k);e?(WebvisuLogger.O("Waiting for image(s) to load"),this.Nd.Tl(function(){WebvisuLogger.O("Loading image(s) finished so continue with drawing");f.Cf(c,b)})):this.Cf(c,b)},Cf:function(a,b){if(this.xd)this.a.Wg(),this.xd=p;var c,d,e=[];for(c=0;c<a.length;++c)d=a[c],d instanceof $a?d.execute(this):d instanceof
ab&&e.push(d);this.Id.Sl(this.A);for(c=0;c<a.length;++c)d=a[c],!(d instanceof $a)&&!(d instanceof ab)&&a[c].execute(this);this.A.restore();for(c=0;c<e.length;++c)e[c].execute(this);this.Zk();this.a.Ib.hm(0===a.length);b()},Zk:function(){if(!this.a.m.ec){if(this.Lf===i)this.Lf=M.$();if(!(3E4>M.$()-this.Lf)){this.A.save();var a=new L(this.A.canvas.width-160,10,this.A.canvas.width-10,50);this.A.strokeStyle="#808080";this.A.fillStyle="#c7c7c7";this.A.lineWidth=2;G.Ie(this.A,a.f,a.g,a.h(),a.j(),k,k);this.A.fillStyle=
"#ffffff";this.A.font="16px Arial";this.A.textAlign="center";this.A.textBaseline="middle";this.A.fillText("Demo Mode",a.f+a.h()/2,a.g+a.j()/2);this.A.restore()}}},hl:function(a){var b=Array(a.hb),c,d;if(0<a.hb){c=Q.H(a.sb().sb(),this.a.m.ea,this.a.S());c=new bb(c);for(d=0;d<a.hb;++d)if(c.u()<c.size()-4){var e=c.u(),f=c.getUint32(),g=c.getUint32();b[d]=cb.hi(g,c,f);c.seek(e+f)}}return b},Tf:function(a){var b=window.document.getElementById(a);b===o&&h(Error("Canvas "+a+" does not exist"));return b},
Uf:function(a){a=a.getContext("2d");a===o&&h(Error("Creating graphics context failed"));return a}};var Ua;Ua=function(a){this.lb=o;this.Ed="#ffffff";this.Zf=p;this.Qd="#000000";this.tc=p;this.Rd=0.5;this.Dg="#000000";this.va="12px Arial";this.Pf=12;this.V=a;this.Yd=new B(0,0)};
Ua.prototype={pn:function(a,b){this.Ed=a;this.Zf=b;this.V.fillStyle=this.Ed},rn:function(a,b,c,d,e,f){this.Rd=a;this.Qd=b;this.tc=c;this.Ba=d;this.Ca=e;this.Gb=f;this.V.strokeStyle=this.Qd;this.V.lineWidth=Math.max(1,this.Rd);this.V.lineCap=this.Ba;this.V.lineJoin=this.Ca;this.V.miterLimit=this.Gb},xn:function(a,b,c){this.va=a;this.Pf=b;this.Dg=c;this.V.font=this.va},apply:function(){this.V.fillStyle=this.Ed;this.V.strokeStyle=this.Qd;this.V.lineWidth=this.Rd;this.V.font=this.va;this.V.lineCap=this.Ba;
this.V.lineJoin=this.Ca;this.V.miterLimit=this.Gb},te:function(){return this.lb===o?this.Zf:this.lb.Mb},Ma:function(){return this.lb!==o},qn:t("lb"),ad:function(){this.lb=o;this.apply()},Ic:function(a){this.V.fillStyle=this.lb.ym(this.V,a)}};var db;db=s();db.fj="3.5.5.20 (dev)";var eb;
eb=function(a,b,c){this.vk();WebvisuLogger.info("Webvisualization starting");WebvisuLogger.info("Version: "+db.fj);this.Zd();this.oa=new Na(this,a,b,c);this.Ob();this.wo=new Aa(this);this.xo=new Ha(this);this.Ib=new fb(this);this.uk(b);this.Dc=this.ba=o;this.Fa=(new Configuration).S();this.be("Loading Webvisualization");this.Ec=-1;this.jb=new gb(this);this.Gf()};window.Webvisu=eb;
eb.prototype={Gf:function(){var a=this.jb;this.jb=o;try{a.execute()}catch(b){this.error("Unexpected Exception: "+b)}},Zd:function(){this.ua=this.B=this.m=o;this.zo=p;this.ba&&this.ie()},Ob:function(){var a=this;window.addEventListener("unload",function(b){a.Ok(b)},p)},uk:function(a){window.WebvisuAutotestInst=new WebvisuAutotest(this,a);window.WebvisuAutotest_raiseMouse=window.WebvisuAutotestInst.raiseMouse;window.WebvisuAutotest_raiseKey=window.WebvisuAutotestInst.raiseKey},vk:function(){WebvisuLogger=
x.qe();var a=window.document.getElementById("WebvisuLoggingElem");a!==o?(a=new x.zi(a),a.tn(),a.dd(p),a.ye(100)):(a=new x.ai,a.yn());WebvisuLogger.Lg(a);WebvisuLogger.qa(x.za.Ya)},be:function(a){this.Dc!==o&&this.Wg();this.Dc=new hb(a,this.oa)},Wg:function(){this.Dc.close();this.Dc=o},ca:function(){return new lb(this)},ja:function(){return this.m===o?new mb(k,43981):new mb(this.m.ea,this.m.He)},Jh:function(a){"TRACE"===a.LogLevel?WebvisuLogger.qa(x.za.rd):"DEBUG"===a.LogLevel?WebvisuLogger.qa(x.za.Cb):
"INFO"===a.LogLevel?WebvisuLogger.qa(x.za.Ya):"WARNING"===a.LogLevel?WebvisuLogger.qa(x.za.to):"ERROR"===a.LogLevel?WebvisuLogger.qa(x.za.Db):"FATAL"===a.LogLevel?WebvisuLogger.qa(x.za.Me):WebvisuLogger.warn("Unexpected loglevel: "+a.LogLevel);this.B=a;this.Fa=a.S()},S:u("Fa"),mn:t("m"),Um:function(a){this.ba=a;var b=this;this.ba.addEventListener("keydown",function(a){b.Rj(a)},p);window.document.body.appendChild(this.ba)},Em:function(){return this.ba!==o},ie:function(){this.ba!==o&&window.document.body.removeChild(this.ba);
this.ba=o},L:function(a,b){this.jb=a;0>=b&&(b=0);this.yg(b)},xl:t("jb"),error:function(a){WebvisuLogger.error(a);a=this.B!==o?this.B.ErrorReconnectTime:1E4;WebvisuLogger.info("Will restart in "+a+"ms");this.Zd();this.nl();this.be("An error happened; will automatically restart");this.L(new nb(this),a)},Lm:function(){this.Sh("The webvisualization license expired.","License Expired")},Sh:function(a,b){WebvisuLogger.warn(a+" Webvisualization is stopped");this.be(b);this.Zd();this.xl(new nb(this))},on:t("ua"),
yg:function(a){var b=this;this.Ec=window.setTimeout(function(){b.Gf()},a)},rb:function(a){this.ua!==o&&(this.ua.push(a),this.jb!==o&&this.jb.Ug()&&(clearTimeout(this.Ec),this.yg(0)))},ke:function(a){var b,c,d;c=M.Xe(this.ba);d=K.H(this.ba.value.length+1);ob.H(d,this.m.ea).Sa(this.ba.value,p);b=new I(J.oi,this.m.U,a?1:2,0);b.Bb(d);b.$a=c.rh(4);this.ua.push(b);a||this.ie()},Ok:function(){this.m!==o&&(new Ma(this)).jn()},Rj:function(a){this.ba!==o&&(27===a.keyCode?(a.preventDefault(),a.stopPropagation(),
this.ke(p)):13===a.keyCode&&this.ke(k))},nl:function(){var a=this.oa.A,b;for(b=0;20>b;++b)a.restore()}};var WebvisuAutotest;WebvisuAutotest=function(a,b){this.a=a;this.qf=b};
WebvisuAutotest.prototype={raiseMouse:function(a,b,c){var d,e,f=window.document.getElementById(this.qf),g;d="mousemove"!==a;e=window;g=window.document.createEvent("MouseEvents");g.initMouseEvent(a,k,d,e,0,b,c,b,c,p,p,p,p,0,f);Object.defineProperty(g,"layerX",{value:b});Object.defineProperty(g,"layerY",{value:c});g.button=1;g.which=1;f.dispatchEvent(g)},raiseKey:function(a,b,c,d,e){var f=this.a.ba;f!==o?13===b||27===b?this.ug(f,a,b,c,d,e):this.gl(f,b,a,c):this.ug(window.document.getElementById(this.qf),
a,b,c,d,e)},gl:function(a,b,c,d){if("keypress"===c){var c=a.selectionStart,e=a.selectionEnd,b=String.fromCharCode(b);d||(b=b.toLowerCase());a.value=a.value.substr(0,c)+b+a.value.substr(e);c===e&&this.ak(a);this.wl(a,c+1)}},wl:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(k);c.moveEnd("character",b);c.moveStart("character",b);c.select()}},ak:function(a){var b=0;if(document.selection)a.focus(),b=document.selection.createRange(),
b.moveStart("character",-a.value.length),b=b.text.length;else if(a.selectionStart||"0"==a.selectionStart)b=a.selectionStart;return b},ug:function(a,b,c,d,e,f){var g;window.document.createEventObject!==i?(g=document.createEvent("Events"),g.initEvent(b,k,k),g.which=c,g.keyCode=c,g.shiftKey=d,g.ctrlKey=f,g.altKey=e,g.metaKey=p):(g=window.document.createEvent("KeyboardEvent"),g.initKeyboardEvent===i?g.initKeyEvent(b,k,k,o,f,e,d,p,c,c,c,a):g.initKeyboardEvent(b,k,k,o,f,e,d,p,c,c,c,a),delete g.keyCode,
Object.defineProperty(g,"keyCode",{value:c}),delete g.charCode,Object.defineProperty(g,"charCode",{value:c}),delete g.shiftKey,Object.defineProperty(g,"shiftKey",{value:d}),delete g.ctrlKey,Object.defineProperty(g,"ctrlKey",{value:f}),delete g.altKey,Object.defineProperty(g,"altKey",{value:e}),delete g.metaKey,Object.defineProperty(g,"metaKey",{value:p}),delete g.which,Object.defineProperty(g,"which",{value:c}),delete g.target,Object.defineProperty(g,"target",{value:a}));a.dispatchEvent(g)}};var K;
K=function(a){a===i&&(a=10);this.l=new ArrayBuffer(a);this.ra=new Uint8Array(this.l);this.J=0};K.H=function(a){return z.Fb()?new pb:new K(a)};
K.prototype={ol:function(){this.vg(this.Gk(this.l.byteLength))},vg:function(a){var b=this.ra;this.l=new ArrayBuffer(a);this.ra=new Uint8Array(this.l);for(a=0;a<this.J;++a)this.ra[a]=b[a]},Gk:function(a){return 500>a?2*a:Math.floor(1.3*a)},Ac:function(a,b){this.ra[a]=b},Fh:function(a){a>this.l.byteLength&&this.vg(a)},Og:function(a){this.J>=this.l.byteLength&&this.ol();var b=this.J;this.J++;this.Ac(b,a)},Pg:function(a,b,c){var d=new Uint8Array(a),e;this.Fh(this.size()+c);if(200<c&&0===b%4&&0===this.J%
4&&!z.Ki()){var f=Math.floor(c/4);e=Math.floor(this.J/4);var a=new Uint32Array(a,4*Math.floor(b/4),f),g=new Uint32Array(this.l,4*e,f),j=c-4*f;for(e=0;e<f;++e)g[e]=a[e];for(e=0;e<j;++e)this.ra[this.J+e+4*f]=d[b+e+4*f]}else for(e=0;e<c;++e)this.ra[this.J+e]=d[b+e];this.J+=c},xe:function(a,b){this.Ac(a,b)},ih:function(a){return this.ra[a]},size:u("J"),sb:function(){var a=new ArrayBuffer(this.J),b=new Uint8Array(this.l),c,d=new Uint8Array(a);for(c=0;c<this.J;++c)d[c]=b[c];return a}};var pb;
(function(){function a(a){return String.fromCharCode((a>>4)+65)+String.fromCharCode((a&15)+65)}pb=function(){this.l="";this.J=0};pb.prototype={Ac:function(b,c){var d=o,e=o,f;0<b&&(d=this.l.substr(0,2*b));b<this.J-1&&(e=this.l.substr(2*b+2,this.l.length-2*b-2));f="";d!==o&&(f=d);f=f.concat(a(c));e!==o&&(f=f.concat(e));this.l=f},Fh:s(),Og:function(b){this.l=this.l.concat(a(b));this.J++},Rl:function(b){var c="",d;for(d=0;d<b.length;++d)c=c.concat(a(b.charCodeAt(d)));this.l=this.l.concat(c);this.J+=c.length/
2},Pg:function(a,c,d){this.l=this.l.concat(a.substr(2*c,2*d));this.J+=d},xe:function(a,c){this.Ac(a,c)},ih:function(a){return this.l.charCodeAt(2*a)-65<<4|this.l.charCodeAt(2*a+1)-65},size:u("J"),sb:u("l")}})();var Q;
(function(){function a(a,b,c){return function(){if(0===this.d%c&&(1===c||this.D))try{return(new a[b+"Array"](this.l,this.d,1))[0]}catch(d){}return o}}function b(a,b){return function(){var c=this["getOptimized"+a]();c===o&&(c=this["_get"+a]());this.d+=b;return c}}function c(c,d){Q.prototype["getOptimized"+c]=a(this,c,d);Q.prototype["get"+c]=b(c,d)}Q=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader requires an ArrayBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));
c===i&&(c=(new Configuration).S());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ea||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.D=b;this.Da=e;this.l=a;this.d=d;this.ra=new Uint8Array(this.l);this.Fa=c;this.k=new qb(this,this.D)};Q.H=function(a,b,c,d,e){return z.li()?new rb(a,b,c,d,e):z.Fb()?new sb(a,b,c,d,e):new Q(a,b,c,d,e)};Q.prototype={getString:function(a,b){var c=a*(b?
2:1),d;(0>a||this.d+c>this.l.byteLength)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.k.Eh(this.l,this.d,a,c,b,this.Fa);this.d+=c;return d},La:function(a){return this.k.La(a)},tb:function(){return String.fromCharCode(this.getUint8())},Ta:function(){return this.d>=this.Da},u:u("d"),seek:t("d"),size:u("Da"),hk:function(){return this.k.$g()},gk:function(){return this.k.Zg()},jk:function(){return this.k.bh()},pk:function(){return this.k.ne()},ik:function(){return this.k.ah()},ok:function(){return this.k.me()},
kk:function(){return this.k.dh()},r:function(a){return this.ra[a]},getUint8:function(){var a=this.r(this.d);this.d++;return a},Wb:u("l")};var d={Int8:1,Int16:2,Int32:4,Uint16:2,Uint32:4,Float32:4,Float64:8},e,f;for(e in d)if(d.hasOwnProperty(e))c(e,d[e]),f="_getFloat64",Q.prototype[f]=Q.prototype.hk,f="_getFloat32",Q.prototype[f]=Q.prototype.gk,f="_getInt32",Q.prototype[f]=Q.prototype.jk,f="_getUint32",Q.prototype[f]=Q.prototype.pk,f="_getInt16",Q.prototype[f]=Q.prototype.ik,f="_getUint16",Q.prototype[f]=
Q.prototype.ok,f="_getInt8",Q.prototype[f]=Q.prototype.kk})();var bb;bb=t("k");
bb.prototype={getString:function(a,b){return this.k.getString(a,b)},La:function(a){return this.k.La(a)},tb:function(){return this.k.tb()},Ta:function(){return this.k.Ta()},u:function(){return this.k.u()},seek:function(a){this.k.seek(a)},size:function(){return this.k.size()},getFloat64:function(){this.eb(8);return this.k.getFloat64()},getFloat32:function(){this.eb(4);return this.k.getFloat32()},getInt32:function(){this.eb(4);return this.k.getInt32()},getUint32:function(){this.eb(4);return this.k.getUint32()},
getInt16:function(){this.eb(2);return this.k.getInt16()},getUint16:function(){this.eb(2);return this.k.getUint16()},getInt8:function(){return this.k.getInt8()},getUint8:function(){return this.k.getUint8()},r:function(a){return this.k.r(a)},Wb:function(){return this.k.Wb()},eb:function(a){var b=this.k.u();8!==a&&4!==a&&2!==a||0===b%a||this.k.seek(b+a-b%a)}};var rb;
rb=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader_DataView requires an ArrayBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).S());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ea||h(new TypeError("BinaryReader_DataView requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.D=b;this.Ia=new DataView(a,0,e+d);this.Da=e;this.l=a;this.d=d;this.Fa=
c;this.k=new qb(this,this.D)};
rb.prototype={getString:function(a,b){var c=a*(b?2:1),d;(0>a||2*(this.d+c)>this.l.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.k.Eh(this.l,this.d,a,c,b,this.Fa);this.d+=c;return d},La:function(a){return this.k.La(a)},tb:function(){return String.fromCharCode(this.getUint8())},Ta:function(){return this.d>=this.Da},u:u("d"),seek:t("d"),size:u("Da"),getFloat64:function(){var a=this.Ia.getFloat64(this.d,this.D);this.d+=8;return a},getFloat32:function(){var a=this.Ia.getFloat32(this.d,this.D);
this.d+=4;return a},getInt32:function(){var a=this.Ia.getInt32(this.d,this.D);this.d+=4;return a},getUint32:function(){var a=this.Ia.getUint32(this.d,this.D);this.d+=4;return a},getInt16:function(){var a=this.Ia.getInt16(this.d,this.D);this.d+=2;return a},getUint16:function(){var a=this.Ia.getUint16(this.d,this.D);this.d+=2;return a},getInt8:function(){var a=this.Ia.getInt8(this.d);this.d++;return a},getUint8:function(){var a=this.r(this.d);this.d++;return a},r:function(a){return this.Ia.getUint8(a)},
Wb:u("l")};var sb;sb=function(a,b,c,d,e){"string"!==typeof a&&h(new TypeError("BinaryReader_StringBased expects a string"));b===i&&h(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).S());d===i&&(d=0);e===i&&(e=a.length/2);c instanceof ea||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.length/2)&&h(Error("Valid data range exceeded"));this.D=b;this.Da=e;this.l=a;this.d=d;this.Fa=c;this.k=new qb(this,b)};
sb.prototype={getString:function(a,b){var c=a*(b?2:1),d,e;(0>a||2*(this.d+c)>this.l.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=Array(a);if(b){var f;if(this.D)for(e=0;e<a;++e)f=2*e+this.d,d[e]=(this.r(f+1)<<8)+this.r(f);else for(e=0;e<a;++e)f=2*e+this.d,d[e]=this.r(f+1)+(this.r(f)<<8);d=String.fromCharCode.apply(o,d)}else{for(e=this.d;e<this.d+a;++e)d[e-this.d]=this.r(e);d=this.Fa.cm(d)}this.d+=c;return d},La:function(a){return this.k.La(a)},tb:function(){return String.fromCharCode(this.getUint8())},
Ta:function(){return this.d>=this.Da},u:u("d"),seek:t("d"),size:u("Da"),getFloat64:function(){var a=this.k.$g();this.d+=8;return a},getFloat32:function(){var a=this.k.Zg();this.d+=4;return a},getInt32:function(){var a=this.k.bh();this.d+=4;return a},getUint32:function(){var a=this.k.ne();this.d+=4;return a},getInt16:function(){var a=this.k.ah();this.d+=2;return a},getUint16:function(){var a=this.k.me();this.d+=2;return a},getInt8:function(){var a=this.k.dh();this.d++;return a},getUint8:function(){var a=
this.r(this.d);this.d++;return a},r:function(a){return this.l.charCodeAt(2*a)-65<<4|this.l.charCodeAt(2*a+1)-65},Wb:u("l")};var qb;qb=function(a,b){this.q=a;this.D=b};
qb.prototype={La:function(a){var b=this.q.u(),c=0;if(a)for(;0!==this.q.getUint16();)c++;else for(;0!==this.q.getUint8();)c++;this.q.seek(b);b=this.q.getString(c,a);a?this.q.getUint16():this.q.getUint8();return b},$g:function(){var a=this.q.u(),b=this.q.r(this.P(a,0,8)),c=this.q.r(this.P(a,1,8)),d=this.q.r(this.P(a,2,8)),e=this.q.r(this.P(a,3,8)),f=this.q.r(this.P(a,4,8)),g=this.q.r(this.P(a,5,8)),j=this.q.r(this.P(a,6,8)),n=this.q.r(this.P(a,7,8)),a=1-2*(b>>7),b=((b<<1&255)<<3|c>>4)-(Math.pow(2,10)-
1),c=(c&15)*Math.pow(2,48)+d*Math.pow(2,40)+e*Math.pow(2,32)+f*Math.pow(2,24)+g*Math.pow(2,16)+j*Math.pow(2,8)+n;return 1024===b?0!==c?NaN:Infinity*a:-1023===b?a*c*Math.pow(2,-1074):a*(1+c*Math.pow(2,-52))*Math.pow(2,b)},Zg:function(){var a=this.q.u(),b=this.q.r(this.P(a,0,4)),c=this.q.r(this.P(a,1,4)),d=this.q.r(this.P(a,2,4)),e=this.q.r(this.P(a,3,4)),a=1-2*(b>>7),b=(b<<1&255|c>>7)-127,c=(c&127)<<16|d<<8|e;return 128===b?0!==c?NaN:Infinity*a:-127===b?a*c*Math.pow(2,-149):a*(1+c*Math.pow(2,-23))*
Math.pow(2,b)},bh:function(){var a=this.ne();return a>Math.pow(2,31)-1?a-Math.pow(2,32):a},ne:function(){var a=this.q.u(),b=this.q.r(this.P(a,0,4)),c=this.q.r(this.P(a,1,4)),d=this.q.r(this.P(a,2,4)),a=this.q.r(this.P(a,3,4));return b*Math.pow(2,24)+(c<<16)+(d<<8)+a},ah:function(){var a=this.me();return a>Math.pow(2,15)-1?a-Math.pow(2,16):a},me:function(){var a=this.q.u(),b=this.q.r(this.P(a,0,2)),a=this.q.r(this.P(a,1,2));return(b<<8)+a},dh:function(){var a=this.q.r(this.q.u());return a>Math.pow(2,
7)-1?a-Math.pow(2,8):a},Eh:function(a,b,c,d,e,f){var g=o;if(e){if(this.D&&0===b%2)try{g=new Int16Array(a,b,c)}catch(j){}if(g===o)if(g=new Int16Array(Array(c)),b=new Uint8Array(a,b,d),this.D)for(a=0;a<c;++a)g[a]=(b[2*a+1]<<8)+b[2*a];else for(a=0;a<c;++a)g[a]=b[2*a+1]+(b[2*a]<<8);b=[];for(a=0;a<c;++a)b[a]=g[a];return String.fromCharCode.apply(o,b)}g=new Int8Array(a,b,c);return f.le(g)},P:function(a,b,c){return a+(this.D?c-b-1:b)}};var ob;
ob=function(a,b){a instanceof K||h(new TypeError("BinaryWriter expects a BinaryBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));this.Na=a;this.D=b;this.aa=-1};ob.H=function(a,b){return z.Fb()?new tb(a,b):new ob(a,b)};
ob.prototype={Dl:function(a){var b=a.length/2,c,d;1!==b&&2!==b&&4!==b&&h(Error("Unexpected size for swapping"));for(d=0;d<b;++d)c=a[d],a[d]=a[a.length-d-1],a[a.length-d-1]=c},ud:function(a,b,c){var d=new ArrayBuffer(c),b=new b(d),d=new Uint8Array(d);b[0]=a;1<c&&!this.D&&this.Dl(d,c);for(a=0;a<c;++a)this.kf(d[a])},kf:function(a){-1!==this.aa?(this.Na.xe(this.aa,a),this.aa++):this.Na.Og(a)},seek:t("aa"),u:function(){return-1!==this.aa?this.aa:this.Na.size()},Hc:function(a){var b=[204,221],c;for(c=0;c<
a;++c)this.X(b[c%2])},X:function(a){this.kf(a)},Q:function(a){this.ud(a,Uint16Array,2)},ia:function(a){this.ud(a,Int16Array,2)},N:function(a){this.ud(a,Uint32Array,4)},Ka:function(a,b){this.Hb(a,b,p)},Sa:function(a,b){this.Hb(a,b,k)},Hb:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.Q(e):128>e?this.X(e):this.X(63)}c&&(b?this.Q(0):this.X(0))}};var tb;
tb=function(a,b){a instanceof pb||h(new TypeError("BinaryWriter expects a BinaryBuffer_StringBased"));b===i&&h(Error("Byteorder must be explicitly assigned"));this.Na=a;this.D=b;this.aa=-1};
tb.prototype={lc:function(a){if(-1!==this.aa)for(var b=0;b<a.length;++b)this.Na.xe(this.aa,a.charCodeAt(b)&255),this.aa++;else this.Na.Rl(a)},seek:t("aa"),u:function(){return-1!==this.aa?this.aa:this.Na.size()},Hc:function(a){var b=[204,221],c;for(c=0;c<a;++c)this.X(b[c%2])},X:function(a){this.lc(this.qc(a,8,p))},Q:function(a){this.lc(this.qc(a,16,p))},ia:function(a){this.lc(this.qc(a,16,k))},N:function(a){this.lc(this.qc(a,32,p))},Ka:function(a,b){this.Hb(a,b,p)},Sa:function(a,b){this.Hb(a,b,k)},
Hb:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.Q(e):128>e?this.X(e):this.X(63)}c&&(b?this.Q(0):this.X(0))},qc:function(a,b,c){var d=[],e=Math.pow(2,b);if(c){if(c=-Math.pow(2,b-1),a>-c-1||a<c)this.Kg("encodeInt::overflow"),a=0}else if(a>e||0>a)this.Kg("encodeInt::overflow"),a=0;for(0>a&&(a+=e);a;a=Math.floor(a/256))d[d.length]=String.fromCharCode(a%256);for(b=-(-b>>3)-d.length;b;b--)d[d.length]=String.fromCharCode(0);return(this.D?d:d.reverse()).join("")},Kg:function(a){h(Error(a))}};
var ub;ub=function(a,b,c,d,e){this.k=Q.H(a,b,c,d,e)};ub.prototype={ub:function(){var a,b=0,c=0;do a=this.k.getUint8(),b|=(a&127)<<c,c+=7;while(0!==(a&128));return b}};var vb;vb=function(a,b){this.fb=ob.H(a,b)};
vb.prototype={w:function(a,b){var c,d,e;c=b!==i?b:this.lk(a);0===c&&h(Error("Expected value for MBui greater then zero"));d=a;for(e=0;e<c-1;e++)this.fb.X(d&127|128),d>>=7;this.fb.X(d&127);0!==d>>7&&h(Error("Value "+a+" cannot be written as an MBUI with "+c+" bytes"))},lk:function(a){var b=0;do a>>=7,b++;while(0<a);return b}};var wb;wb=function(a,b,c,d){this.Ye=a;this.ic=b;this.ii=c;this.ci=d};var lb;lb=function(a){this.I=new XMLHttpRequest;this.a=a};
lb.prototype={ma:function(a,b,c){c===i&&(c=p);this.sa=b;var b="/WebVisuV3.bin",d=this;z.Gm()&&(b+="?"+M.$());this.I.open("POST",b,!c);if(!c&&!z.Fb())this.I.responseType="arraybuffer";if(!c)this.I.onreadystatechange=function(){d.Sm()};z.Li()?this.I.send(a):(c=new MozBlobBuilder,c.append(a),this.I.send(c.getBlob()))},vh:function(a,b){this.sa=b;this.I.open("GET",a,k);var c=this;this.I.onreadystatechange=function(){c.Rm(a)};this.I.send()},Rm:function(a){4==this.I.readyState&&(200==this.I.status||"OK"==
this.I.status?this.sa.gh(this.I.responseText):this.sa.t("Loading file '"+a+"' failed: "+this.I.status))},Sm:function(){if(4==this.I.readyState)if(200==this.I.status||"OK"==this.I.status){this.I.onreadystatechange=o;var a;z.Fb()?(a=this.I.responseText,""===a&&(a=o)):(a=this.I.response,a instanceof ArrayBuffer&&0===a.byteLength&&(a=o));try{a!==o||this.Sj()?this.sa.la(a):this.sa.t("Sending service failed, server not available?")}catch(b){this.sa.t("Unexpected exception while evaluating comm result"+
b)}}else 4E3===this.I.status?this.a.Lm():0===this.I.status?this.sa.t("Sending service aborted"):this.sa.t("Sending service failed, status: "+this.I.status)},Sj:function(){return"function"!==typeof this.sa.fh?p:k}};var R;R=s();R.$e=65407;R.af=1;R.Ze=2;R.Qi=130;R.Ri=32;R.Si=33;R.ef=34;R.df=35;R.Oi=129;R.Ti=16;R.Pi=17;R.Aa=4;R.cf=1;R.Ji=2;R.bf=3;R.nd=4;R.mo=5;R.Ii=6;R.Ui=1;R.qo=1;R.Vi=3;R.qd=132;R.aj=1;R.Wi=2;R.bj=3;R.Xi=4;R.cj=2;R.Yi=3;R.Zi=4;R.$i=1;R.dj=134;R.ej=2;R.Ee=0;R.bi=1;var xb;
xb=function(a,b,c){this.$d=a;this.ae=b;this.xg=c;this.zc=0};xb.Xm=function(a){var b=a.getUint16(),c;52565!=b&&h(Error("Unsupported protocol: "+b));this.Lb=a.getUint16();12>this.Lb&&h(Error("Unsupported length of header: "+this.Lb));this.$d=a.getUint16();this.ae=a.getUint16();this.xg=a.getUint32();this.zc=a.getUint32();b=this.Lb-12;16<=this.Lb&&(a.getUint16(),b-=2);for(c=0;c<b;++c)a.getUint8();return this};xb.Gi=4;xb.Hi=20;xb.gj=16;
xb.prototype={write:function(a,b){a.Q(52565);a.Q(xb.gj);a.Q(this.$d);a.Q(this.ae);a.N(this.xg);a.N(b);a.Q(0);a.Q(0)}};var yb;yb=function(a,b,c){this.Pa=new ub(a,b,c);this.z=this.Pa.k};
yb.prototype={Dh:function(){try{if("|"!=this.z.tb())return"Unexpected format of service: 1";var a=this.Fg();return 4>a.length?"Unexpected format of service: 2":new na(parseInt(a[0],10),0===parseInt(a[1],10),parseInt(a[2],10),"true"!==a[3])}catch(b){return"Exception during readOpenConnectionResult: "+b}},Zm:function(){var a=this.Fg(),b;for(b=0;b<a.length;++b)if(0===a[b].indexOf("IPv4:"))return a[b].substr(5);return""},Fg:function(){for(var a=[],b="";!this.z.Ta();){var c=this.z.tb();"|"==c?(a.push(b),
b=""):b+=c}return a},xc:function(a,b){for(var c=this.z.u()+a;this.z.u()<c;){var d=this.Pa.ub(),e=this.Pa.ub(),d=b[d],f=this.z.u();"function"===typeof d&&d(this,e);d=this.z.u()-f;d<e&&this.Al(e-d)}},Ym:function(){try{var a=this.wc(R.af,R.Ze),b=0,c=0,d=0,e=R.Ee,f={};f[R.Qi]=function(a,d){var e={};e[R.Ri]=function(a){b=a.z.getUint16()};e[R.Si]=function(a){c=a.z.getUint32()};a.xc(d,e)};f[R.ef]=function(a){e=a.z.getUint32()};f[R.df]=function(a){d=a.z.getUint32()};this.xc(a.zc,f);return new wb(b,c,e,d)}catch(g){return"Exception during readDeviceLoginResult: "+
g}},an:function(){try{for(this.wc(R.Aa,R.cf);!this.z.Ta();){var a=this.Pa.ub(),b;this.Pa.ub();if(a===R.$e)return"Visu not supported by the plc";b=this.z.getUint32();return 2952790016>b?b:4294967292===b?"No more memory on the plc":4294967293===b?"Connection to invalid application":"Unknown error"}return"Unexpected format of service: 4"}catch(c){return"Exception during readVisuRegisterClientResult: "+c}},$m:function(){try{for(this.wc(R.Aa,R.bf);!this.z.Ta();){var a=this.Pa.ub(),b;this.Pa.ub();if(a===
R.$e)return"Visu not supported by the plc";b=this.z.getUint32();return 0===b||1===b?b:2===b?"Client registration failed":3===b?"Client registration failed due to an invalid external id":"Unknown error"}return"Unexpected format of service: 5"}catch(c){return"Exception during readVisuIsRegisteredClientResult: "+c}},$c:function(a){try{var b=this.wc(R.Aa,R.nd),c=0,d=a,a={};a[R.qd]=function(a,b){var e={};e[R.cj]=function(a){a.z.getUint32();var b=a.z.getUint32(),c=a.z.getUint32(),a=a.z.getUint32();d=new Ia(b,
c,a)};e[R.Zi]=function(){d.finish()};e[R.$i]=function(a){c=a.z.getUint32()};e[R.Yi]=function(a,b){d.sb().Pg(a.z.Wb(),a.z.u(),Math.min(b,d.Nm()))};a.xc(b,e)};this.xc(b.zc,a);return 0!==c?65535===c?"Client id not or no longer valid":c.toString():d===o?"Unexpected format of service: 6":d}catch(e){return"Exception during readVisuGetPaintDataResult: "+e}},Al:function(a){this.z.seek(this.z.u()+a)},wc:function(a,b){var c=xb.Xm(this.z),d=xb.Gi+c.Lb+c.zc;this.z.size()<d&&h(Error("Actual packet size "+this.z.size()+
" smaller than expected "+d));(c.$d!=(128|a)||c.ae!=b)&&h(Error("Unexpected format of service: 3"));return c}};var mb;mb=function(a,b){this.D=a;this.Gj=b;this.l=K.H(50);this.M=new vb(this.l,a);this.o=this.M.fb};
mb.prototype={ka:function(){return this.l.sb()},Ah:function(a,b,c){this.vd(1);this.o.Ka("|",p);this.o.Ka(a,p);this.o.Ka("|",p);this.o.Ka(b.toString(),p);this.o.Ka("|",p);this.o.Ka(c.toString(),p);this.o.Ka("|",p)},gn:function(){this.vd(3)},dm:function(a,b,c,d){if(a===i||a===o)a="";b===i&&(b=o);c===i&&(c=0);if(d===i)d=R.Ee;var e=this.ob(R.af,R.Ze),f=o;this.M.w(R.ef);this.M.w(4,3);this.o.N(d);0!==c&&(this.M.w(R.df),this.M.w(4,3),this.o.N(c));a=this.fk(a);b!==o&&0!==c&&d===R.bi&&(f=this.ek(b,c));this.M.w(R.Oi);
this.M.w(a.size()+(f!==o?f.size():0),2);this.mc(this.o,a);f!==o&&this.mc(this.o,f);this.gb(e)},Nn:function(a,b,c){var d=this.ob(R.Aa,R.cf),e=a.length+4+1,f=this.Jd(e,4,0),g=0,j=0;b&&0<b.length&&g++;c&&0<c.length&&g++;0<g&&(j=8+84*g,e+=j);this.M.w(R.Ui);this.M.w(e+f,3);this.o.Sa(a,p);this.td(this.o,f,0);this.o.N(524288);0<g&&(this.o.N(j),this.o.N(g),b&&0<b.length&&(this.o.Q(1),this.o.Sa(b,p),this.o.Hc(82-b.length-1)),c&&0<c.length&&(this.o.Q(2),this.o.Sa(c,p),this.o.Hc(82-c.length-1)));this.gb(d)},
Ln:function(a){var b=this.ob(R.Aa,R.bf);this.M.w(R.Vi);this.M.w(4,3);this.o.N(a);this.gb(b)},gd:function(a){this.Jg(a,R.nd,R.qd)},Kn:function(a){var b=this.ob(R.Aa,R.nd);this.M.w(R.qd);this.M.w(8,2);this.M.w(R.Xi);this.M.w(4,3);this.o.N(a);this.gb(b)},Mn:function(a){this.Jg(a,R.Ii,R.dj)},On:function(a){var b=this.ob(R.Aa,R.Ji);this.M.w(R.ej);this.M.w(4,3);this.o.N(a);this.gb(b)},Jg:function(a,b,c){b=this.ob(R.Aa,b);a=this.qk(a);this.M.w(c);this.M.w(a.size(),2);this.mc(this.o,a);this.gb(b)},gb:function(a){var b=
this.o.u()-a.Ni;this.Nl(a.xi,b)},ob:function(a,b){var c=new xb(a,b,this.Gj);this.vd(2);this.o.Hc(xb.Hi);return{xi:c,Ni:this.o.u()}},fk:function(a){var b=K.H(10+a.length),c=new vb(b,this.D),d=c.fb,e=a.length+1,f=this.Jd(e,4,2);c.w(R.Ti);c.w(e+f);d.Sa(a,p);this.td(d,f,0);return b},ek:function(a,b){var c=this.dk(a,b),d=K.H(10+c.length),e=new vb(d,this.D),f=e.fb;e.w(R.Pi);e.w(c.length,3);for(e=0;e<c.length;++e)f.X(c[e]);return d},dk:function(a,b){var c="Qcw@e46A6!R.gssltR4dg=_l)B^nQSo^",d="",e=[],f,g=
0,j=0,n,m=a.length+1,A=[b&255,0,0,0];for(f=0;f<c.length;f+=4)d=d.concat(String.fromCharCode(c.charCodeAt(f+2)+3)),d=d.concat(String.fromCharCode(c.charCodeAt(f+1)+2)),d=d.concat(String.fromCharCode(c.charCodeAt(f+3)+4)),d=d.concat(String.fromCharCode(c.charCodeAt(f+0)+1));c=d;32>m&&(m=32);0!==m%4&&(m+=4-m%4);for(f=0;f<m;++f)d=c.charCodeAt(g),n=0,f<a.length&&(n=a.charCodeAt(f)),e[f]=(n^d+A[j])&255,g++,g===c.length&&(g=0),j++,4===j&&(j=0);return e},qk:function(a){var b=K.H(100),c=new vb(b,this.D),d=
c.fb,e=a.gf;c.w(R.aj);c.w(16,3);d.N(a.dc);d.N(a.ld);d.N(a.md);d.N(a.di);if(e!==o){c.w(R.Wi);var f=e.size(),g;g=this.Jd(f,4,0);c.w(f+g,3);this.mc(d,e);this.td(d,g,0)}a.$a!==o&&(c.w(R.bj),c.w(8,3),d.Q(a.$a.f),d.Q(a.$a.g),d.Q(a.$a.s),d.Q(a.$a.v));return b},mc:function(a,b){var c=b.size(),d;for(d=0;d<c;++d)a.X(b.ih(d))},Jd:function(a,b,c){for(var d=0;0!==(a+c)%b;)a++,d++;return d},td:function(a,b,c){for(var d=0;d<b;++d)a.X(c)},vd:function(a){this.o.X(a);this.o.X(0);this.o.Q(0)},Nl:function(a,b){this.o.seek(4);
a.write(this.o,b)}};var J;J=s();J.ti=1;J.hd=2;J.Ke=4;J.cc=16;J.qi=128;J.ri=256;J.ni=257;J.Je=1048576;J.oi=512;J.pi=513;J.ui=516;J.si=518;J.Le=2097152;var I;I=function(a,b,c,d){c===i&&(c=0);d===i&&(d=0);this.dc=a;this.di=b;this.ld=c;this.md=d;this.$a=this.gf=o;this.rg=p};I.Ge=function(a,b,c){return new I(a,b,c.b|c.c<<16)};I.Fe=function(a,b,c,d){return new I(a,b,c,d)};I.gi=function(a,b){return new I(J.ni,a,b.charCodeAt(0))};I.prototype={Bb:t("gf"),vn:function(){this.rg=k}};var zb;
zb=function(a){a===i&&(a=100);this.Cd=[];this.pb=this.Sb=0;this.Qb=a;this.sc=p;this.fg=0};
zb.prototype={push:function(a){if(a.dc!==J.Le)this.fg=M.$();if(!this.empty()&&a.dc===J.cc){var b=this.Cd[(this.pb+this.Qb-1)%this.Qb];if(b.dc===J.cc)return b.ld=a.ld,b.md=a.md,k}if(this.sc)return p;this.Cd[this.pb%this.Qb]=a;this.pb=(this.pb+1)%this.Qb;if(this.pb==this.Sb)this.sc=k;return k},empty:function(){return!this.sc&&this.Sb===this.pb},pop:function(){if(this.empty())return o;this.sc=p;var a=this.Sb;this.Sb=(this.Sb+1)%this.Qb;return this.Cd[a]}};var Xa;
Xa=function(a){this.Ra={};this.a=a;this.Sd=o};
Xa.prototype={Qc:function(a,b){b===i&&(b=o);var c=this.Ik(a,b),d;d=this.Ra[c];if(d!==i)return d;d=new Ab(this.a,a,b);return this.Ra[c]=d},Tl:function(a){var b=[];this.Qf(function(c){c.Zb()||(b.push(c),c.Ul(function(){b.splice(b.indexOf(c),1);0===b.length&&(z.yi()?a():setTimeout(a,0))}))})},Xl:function(){var a=M.$(),b=[],c=this.a.B,d,e;if(-1!==c.NumCachedImages)if(0===c.NumCachedImages)this.Ra={};else if(this.Qf(function(d,e){var j=d.Ck,n=d.mg?c.MaxUnusedImageAge:c.MaxUndrawnImageAge;0!==j&&j<a-n&&
b.push({path:e,time:j})}),d=Math.min(M.mi(this.Ra)-c.NumCachedImages,b.length),0<d){b.sort(function(a,b){return a.Th-b.Th});for(e=0;e<d;++e)delete this.Ra[b[e].path]}},Mm:function(){if(this.Sd===o)this.Sd=this.a.B.LoadImagesById;return this.Sd},Qf:function(a){var b,c;for(b in this.Ra)c=this.Ra[b],a(c,b)},Ik:function(a,b){return b===o?a:a+":"+b}};var Ab;Ab=function(a,b,c){this.mg=p;this.Ga=c;this.Nb=M.Oe(b);this.jl=3;this.Bg();this.ee();this.vc=this.Fc=o;this.a=a;this.Pd=o};
Ab.prototype={tk:function(){try{this.Ga!==o&&this.Hl(),this.wd(2)}catch(a){this.a.error("Unexpected exception during load image callback: "+a)}},Hl:function(){try{var a=window.document.createElement("canvas"),b=a.getContext("2d"),c,d,e=parseInt(this.Ga.substr(1,2),16),f=parseInt(this.Ga.substr(3,2),16),g=parseInt(this.Ga.substr(5,2),16),j=this.ck(),n=this.lh();a.width=n.G;a.height=n.F;b.drawImage(this.Oa,0,0);c=b.getImageData(0,0,a.width,a.height);for(d=0;d<c.data.length;d+=4)j(c.data[d+0],c.data[d+
1],c.data[d+2],e,f,g)&&(c.data[d+3]=0,c.data[d+0]=0,c.data[d+1]=0,c.data[d+2]=0);b.putImageData(c,0,0);this.Fc=a;this.Oa=o}catch(m){this.Fc=this.Ga=o,WebvisuLogger.warn("Exception during making image "+this.Nb+" transparent. Is this an SVG? As a workaround it will be rendered ignoring the transparency color")}},Dk:function(a){try{if(WebvisuLogger.warn("Loading image "+this.Nb+" failed: "+a.type),0<=this.jl--){var b=this;window.setTimeout(function(){WebvisuLogger.info("Triing to load the image "+b.Nb+
" again");b.Bg(b.Nb)},50);this.wd(4)}else this.wd(3)}catch(c){this.a.error("Unexpected exception during handling of load image problems: "+c)}},zm:function(){this.ee();this.mg=k;2!==this.Ub&&WebvisuLogger.warn("Access to not (yet) loaded image");return this.Fc!==o?this.Fc:this.Oa},lh:function(){if(this.Pd===o)this.Pd=z.wi(this.Oa);return this.Pd},Ul:t("vc"),Zb:function(){return 2===this.Ub||3===this.Ub},loaded:function(){return 2===this.Ub},wd:function(a){this.ee();this.Ub=a;if(this.vc!==o&&this.Zb())this.vc(),
this.vc=o},ee:function(){this.Ck=M.$()},Bg:function(){this.Oa=new Image;var a=this;this.Oa.onload=function(){a.tk()};this.Oa.onerror=function(b){a.Dk(b)};this.Ub=1;this.Oa.src=this.Nb},ck:function(){return this.a.B.FuzzyTransparencyColorEvaluation?function(a,b,c,d,e,f){return 2>Math.abs(a-d)&&2>Math.abs(b-e)&&2>Math.abs(c-f)}:function(a,b,c,d,e,f){return a===d&&b===e&&c===f}}};var Wa;Wa=function(){this.wa={};this.fc="<Project>"};
Wa.prototype={Bm:function(a){var a=a.toLowerCase().split("."),b=[],c;for(c=0;c<a.length;++c)b[c]=M.ab(a[c]);var d;if(1>b.length)return o;a=b[b.length-1];if(1===b.length)return this.Rb(this.Wj(a));c=b[b.length-2];if(2==b.length){d=this.Xj(c);if(d!==o)return this.Rb(this.Fd(a,d));d=this.Hd(c);return d!==o?this.Rb(this.rc(a,d)):o}b=b.slice(0,b.length-2).join(".");d=this.Hd(b);if(d!==o&&(d=this.Gd(c,d),d!==o))return this.Rb(this.Fd(a,d));d=this.Hd(b+"."+c);return d!==o?this.Rb(this.rc(a,d)):o},Rb:function(a){return a!==
o?a.path:o},Hd:function(a){a=this.wa[a];return a!==i?a:o},Wj:function(a){var b=this.wa[this.fc],c;if(b!==i&&(b=this.rc(a,b),b!==o))return b;for(c in this.wa)if(c!==this.fc&&(b=this.rc(a,this.wa[c]),b!==o))return b;return o},rc:function(a,b){var c,d;for(c in b.yb)if(d=this.Fd(a,b.yb[c]),d!==o)return d;return o},Fd:function(a,b){var c=b.Jc[a];return c===i?o:c},Xj:function(a){var b=this.wa[this.fc],c;if(b!==i&&(b=this.Gd(a,b),b!==o))return b;for(c in this.wa)if(b=this.Gd(a,this.wa[c]),b!==o)return b;
return o},Gd:function(a,b){var c=b.yb[a];return c!==i?c:o},fill:function(a){var a=a.replace(/\r\n/g,"\n").split("\n"),b,c,d,e,f,g,j;for(b=0;b<a.length;++b)c=a[b].split(";"),4>c.length||(d=this.Hk(M.ab(c[1])),e=M.ab(c[0]).toLowerCase(),f=M.ab(c[2]).toLowerCase(),g=M.ab(c[3]),c=this.wa[d],c===i?(c={yb:{}},j=this.xf(e),j.Jc[f]=this.zd(f,g),c.yb[e]=j,this.wa[d]=c):(j=c.yb[e],j===i?(j=this.xf(e),j.Jc[f]=this.zd(f,g),c.yb[e]=j):j.Jc[f]=this.zd(f,g)))},Hk:function(a){return a===o||""===a?this.fc:a.toLowerCase()},
xf:function(a){return{name:a,Jc:{}}},zd:function(a,b){return{id:a,path:b}}};var Bb;Bb=function(a,b){this.e=G.gc(b)};Bb.prototype={execute:function(a){a=a.getContext();a.save();a.beginPath();a.rect(this.e.f,this.e.g,this.e.h(),this.e.j());a.clip()}};var Cb;Cb=function(a,b){this.e=G.hc(b,p,p);this.Xd=0!==b.getInt8();this.Ha=b.getInt8();switch(this.Ha){case 2:case 4:this.Ad=b.getUint32();this.Qj=b.getUint32();this.Df=b.getUint32();break;case 1:case 3:this.uf=b.getInt16(),this.Ad=b.getUint32()}};
Cb.prototype={execute:function(a){var b=a.getContext(),c=this.e.f,d=this.e.g,e=this.e.h(),f=this.e.j(),g=b.lineWidth;b.save();a.p().Ma()?a.p().Ic(this.e):b.fillStyle=G.T(this.Ad);b.lineWidth=1;c+=0.5;d+=0.5;switch(this.Ha){case 2:case 4:this.al(b,c,d,e,f);break;case 1:case 3:this.$k(b,c,d,e,f)}b.lineWidth=g;a.p().Ma()&&a.p().ad();b.restore()},al:function(a,b,c,d,e){var f=this.Xd?G.T(this.Df):"#000000",g=G.T(this.Qj),j=G.T(this.Df);this.Xd?(a.strokeStyle=f,a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e)):
(a.fillRect(b,c,d,e),a.strokeStyle=g,a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c),a.moveTo(b,c),a.lineTo(b,c+e),a.stroke(),a.closePath(),a.strokeStyle=f,a.beginPath(),a.moveTo(b,c+e),a.lineTo(b+d,c+e),a.lineTo(b+d,c),a.stroke(),a.closePath(),a.strokeStyle=j,a.beginPath(),a.moveTo(b+1,c+e-1),a.lineTo(b+d-2,c+e-1),a.moveTo(b+d-1,c+1),a.lineTo(b+d-1,c+e-1),a.stroke(),a.closePath())},$k:function(a,b,c,d,e){var f=new Db(this.Ad,this.uf);if(this.Xd)a.strokeStyle=G.T(f.jh(0)),a.strokeRect(b,c,d,e),a.fillRect(b,
c,d,e);else{a.strokeStyle="#000000";a.fillRect(b,c,d,e);a.strokeRect(b,c,d,e);var g;for(g=0;g<this.uf;++g)a.beginPath(),a.moveTo(b+g,c+e-g),a.lineTo(b+g,c+g),a.lineTo(b+d-g,c+g),a.strokeStyle=G.T(f.pm(g)),a.stroke(),a.beginPath(),a.moveTo(b+d-g,c+1+g),a.lineTo(b+d-g,c+e-g),a.lineTo(b+1+g,c+e-g),a.strokeStyle=G.T(f.jh(g)),a.stroke()}}};var Za;
Za=function(a,b,c){var a=b.u(),d,e;d=b.getUint16();e=b.getString(d,p);d=b.getUint16();d=b.getString(d,p);""!==e&&(d=e+"."+d);this.Od=d;this.e=G.hc(b,k,p);this.e.normalize();e=b.getUint32();this.zk=0!==(e&1);this.jf=0!==(e&2);this.Mf=0!==(e&4);this.zl=0!==(e&8);this.sf=0!==(e&16);this.Hg=0!==(e&32);this.Yf=0!==(e&128);this.wg=0!==(e&256);this.Ig=0!==(e&1024);this.mf=0!==(e&2048);this.Hf=p;this.Ga=G.T(b.getUint32());if(c>=b.u()-a+16)this.Hf=k,this.Tj=b.getFloat32(),this.Uj=b.getFloat32();this.na=o};
Za.prototype={execute:function(a){var a=a.getContext(),b=G.Di(this.e),c=this.e.Vg(),d=this;this.yl(a,c,b);this.na!==o&&(this.na.loaded()?this.Jj(a,this.na.zm(),function(){return d.na.lh()},c):this.Kj(a,this.e));this.zl&&(c=G.kd(a),a.strokeRect(this.e.f+c,this.e.g+c,this.e.h(),this.e.j()));this.zj(a,b)},Hm:function(a,b){if(this.na===o){if(a.Mm()){var c="/ImageByImagePoolId?id="+this.Od;this.na=this.Hg?a.Qc(c,this.Ga):a.Qc(c);return this.na.Zb()}c=b.Bm(this.Od);if(c!==o)return this.na=this.Hg?a.Qc(c,
this.Ga):a.Qc(c),this.na.Zb();WebvisuLogger.warn("Imagepoolentry for "+this.Od+" not found");return k}return this.na.Zb()},Jj:function(a,b,c,d){if(this.Mf&&this.Hf){var e=c(),d=this.hj(d,new fa(this.Tj*e.G,this.Uj*e.F));this.Mf=p;this.jf=k}this.jf?a.drawImage(b,d.f,d.g,d.h(),d.j()):this.zk?(e=c(),d.h()/b.width<d.j()/b.height?(c=d.h()*e.F/e.G,e=d.h()):(c=d.j(),e=d.j()*e.G/e.F),d=this.ij(new L(d.f,d.g,d.f+e,d.g+c),d),a.drawImage(b,d.f,d.g,e,c)):a.drawImage(b,d.f,d.g)},hj:function(a,b){this.Yf?(a.f+=
Math.floor(a.h()/2)-Math.floor(b.G/2),a.s=a.f+b.G):this.wg?a.f=a.s-b.G:a.s=a.f+b.G;this.Ig?(a.g+=Math.floor(a.j()/2)-Math.floor(b.F/2),a.v=a.g+b.F):this.mf?a.g=a.v-b.F:a.v=a.g+b.F;return a},ij:function(a,b){a.h()<b.h()&&(this.Yf?a=a.wb(Math.floor(b.h()/2)-Math.floor(a.h()/2),0):this.wg&&(a=a.wb(b.h()-a.h(),0)));a.j()<b.j()&&(this.Ig?a=a.wb(0,Math.floor(b.j()/2)-Math.floor(a.j()/2)):this.mf&&(a=a.wb(0,b.j()-a.j())));return a},yl:function(a,b,c){c&&(a.save(),b.ha.he(a,b));this.sf&&(a.save(),a.beginPath(),
a.rect(b.f,b.g,b.h()+1,b.j()+1),a.clip())},zj:function(a,b){this.sf&&a.restore();b&&a.restore()},Kj:function(a,b){var c=b.rh(-3);a.save();a.fillStyle="#eeeeee";a.strokeStyle="#ff0000";a.lineWidth=3;a.fillRect(c.f,c.g,c.h(),c.j());a.beginPath();a.moveTo(c.f,c.g);a.lineTo(c.s,c.v);a.moveTo(c.s,c.g);a.lineTo(c.f,c.v);a.closePath();a.stroke();a.restore()}};var Eb;Eb=function(a,b){this.e=G.hc(b,p,k);this.Ag=G.ya(b.getInt16());this.El=G.ya(b.getInt16());this.Vj=1==b.getInt16()};
Eb.prototype={execute:function(a){var b=a.getContext(),c=this.e.h(),d=this.e.j(),e=!a.p().te(),f=!a.p().tc,g=Math.min(c,d)/2;0>=c||0>=d||(b.save(),this.kj(b),a.p().Ma()&&a.p().Ic(this.nk(g)),b.beginPath(),b.arc(0,0,g,this.Ag,this.Ag+this.El,p),this.Vj&&(b.lineTo(0,0),b.closePath(),e&&b.fill()),b.restore(),f&&b.stroke(),a.p().Ma()&&a.p().ad())},nk:function(a){return new L(-a,-a,a,a)},kj:function(a){var b=this.e.h(),c=this.e.j();a.translate(this.e.f+0.5,this.e.g+0.5);this.e.ha!==o&&a.rotate(this.e.ha.fa);
a.translate(b/2,c/2);b>c?a.scale(b/c,1):a.scale(1,c/b)}};var Fb;Fb=function(a,b){this.i=G.We(b)};Fb.prototype={execute:function(a){var a=a.getContext(),b;for(b=0;b<this.i.length;++b)a.fillRect(this.i[b].c,this.i[b].b,1,1)}};var Gb;Gb=function(a,b){this.Ha=b.getUint16();this.i=G.We(b)};
Gb.prototype={execute:function(a){var b=a.getContext(),c=!a.p().te(),d=!a.p().tc;if(!(2>this.i.length)){a.p().Ma()&&a.p().Ic(this.Cl());d&&this.fl(b);switch(this.Ha){case 0:this.Lj(b,c,d);break;case 1:d&&this.Mj(b);break;case 2:d&&this.Hj(b)}a.p().Ma()&&a.p().ad()}},fl:function(a){var a=G.kd(a),b;if(0!==a)for(b=0;b<this.i.length;++b)this.i[b].c+=a,this.i[b].b+=a},Lj:function(a,b,c){a.beginPath();a.moveTo(this.i[0].c,this.i[0].b);for(var d=1;d<this.i.length;++d)a.lineTo(this.i[d].c,this.i[d].b);a.closePath();
b&&a.fill();c&&a.stroke()},Mj:function(a){var b,c,d,e;a.beginPath();a.moveTo(this.i[0].c,this.i[0].b);for(b=1;b<this.i.length;++b)a.lineTo(this.i[b].c,this.i[b].b);1==a.lineWidth&&(c=this.i[b-1].c-this.i[b-2].c,d=this.i[b-1].b-this.i[b-2].b,e=Math.abs(c)-Math.abs(d),0<e?(c=0<c?1:-1,d=0):(c=0>e?0:0<c?1:-1,d=0<d?1:-1),a.lineTo(this.i[b-1].c+c,this.i[b-1].b+d));a.stroke()},Hj:function(a){a.beginPath();a.moveTo(this.i[0].c,this.i[0].b);for(var b=1;b+3<=this.i.length;)a.bezierCurveTo(this.i[b].c,this.i[b].b,
this.i[b+1].c,this.i[b+1].b,this.i[b+2].c,this.i[b+2].b),b+=3;for(;b<this.i.length;++b)a.lineTo(this.i[b].c,this.i[b].b);a.stroke()},Cl:function(){var a=1E9,b=-1E9,c=1E9,d=-1E9,e;for(e=0;e<this.i.length;++e){if(this.i[e].c<a)a=this.i[e].c;if(this.i[e].b<c)c=this.i[e].b;if(this.i[e].c>b)b=this.i[e].c;if(this.i[e].b>d)d=this.i[e].b}return new L(a,c,b,d)}};var Hb;Hb=function(a,b){var c=b.getUint16(),d=G.hc(b,k,p);this.Kl=new Ib(c,d)};Hb.prototype={execute:function(a){this.Kl.eh(a)}};var Jb;
Jb=function(a,b){this.Ha=b.getUint16();var c,d;c=b.getUint16();d=b.getUint16();this.Cc=new fa(c,d);c=b.getUint16();d=b.getUint16();this.zg=new fa(c,d);c=b.getUint32();this.Il=0!==(c&1);this.Jl=0!==(c&2)};Jb.prototype={execute:function(a){var b=a.p().Yd,c;c=new B(b.c+this.zg.G,b.b+this.zg.F);(new Ib(this.Ha,new L(c.c,c.b,c.c+this.Cc.G,c.b+this.Cc.F))).eh(a);this.Il&&(b.c+=this.Cc.G);this.Jl&&(b.b+=this.Cc.F)}};var Ib;Ib=function(a,b){this.Ha=a;this.e=b.Pm()};
Ib.prototype={Ij:function(a,b,c,d,e,f,g){var j=0.5522848*(d/2),n=0.5522848*(e/2),m=b+d,A=c+e,d=b+d/2,e=c+e/2;a.beginPath();a.moveTo(b,e);a.bezierCurveTo(b,e-n,d-j,c,d,c);a.bezierCurveTo(d+j,c,m,e-n,m,e);a.bezierCurveTo(m,e+n,d+j,A,d,A);a.bezierCurveTo(d-j,A,b,e+n,b,e);a.closePath();f&&a.fill();g&&a.stroke()},Nj:function(a,b,c,d,e,f,g){f&&a.fillRect(b,c,d,e);g&&a.strokeRect(b,c,d,e)},eh:function(a){var b=a.getContext(),c=this.e.f,d=this.e.g,e=this.e.h(),f=this.e.j(),g=!a.p().te(),j=!a.p().tc,n=this.e.ha;
if(!(0>e||0>f)){a.p().Ma()&&a.p().Ic(this.e);n!==o&&(b.save(),this.e.ha.he(b,this.e));if(j&&n===o)var m=G.kd(b),c=c+m,d=d+m;switch(this.Ha){case 0:this.Nj(b,c,d,e,f,g,j);break;case 1:G.Ie(b,c,d,e,f,g,j);break;case 2:this.Ij(b,c,d,e,f,g,j);break;case 3:j&&(b.beginPath(),b.moveTo(c,d+f),b.lineTo(c+e,d),b.stroke());break;case 4:j&&(b.beginPath(),b.moveTo(c,d),b.lineTo(c+e,d+f),b.stroke())}n!==o&&b.restore();a.p().Ma()&&a.p().ad()}}};var Kb;
Kb=function(a,b){var c,d;d=G.Ve(b);c=b.getUint32();this.uc=this.sk(c);this.Gc=this.Ll(c);this.mj=0!==(c&16);this.sj=0!==(c&32);this.il=0!==(c&64);this.e=G.De(d,0!==(c&128),p);c=b.getUint16();this.W=b.getString(c,11==a);this.lg=G.Bi(this.W);this.Cg=G.Ci(this.W)};
Kb.prototype={execute:function(a){var b=a.getContext(),c;if(this.il)c=a.p().Yd,this.e=new L(c.c,c.b,c.c+this.e.h(),c.b+this.e.j());b.save();this.e.ha!==o&&this.e.ha.he(b,this.e);b.beginPath();b.rect(this.e.f-0.5,this.e.g-0.5,this.e.h()+1,this.e.j()+1);b.clip();b.fillStyle=a.p().Dg;this.lg?this.kl(b,a):this.ll(b);if(this.sj)c=a.p().Yd,c.c=this.e.f+this.Fl(b),c.b=this.e.g;b.restore()},ll:function(a){this.Cg?this.ml(a):this.pc(a,this.W,this.sd(a))},kl:function(a,b){var c=G.od(this.W),d=this,e,f,g,j,
n;if(0<c.length){f=M.Pe(b);e=f*c.length;e=this.jj(a,e);var m=function(b){d.pc(a,b.text,g)};for(n=0;n<c.length;++n)this.Cg?(j=G.pd(a,c[n]),g=this.hf(a,j),g.b=e.b,this.dg(j,g,m)):this.pc(a,c[n],e),e.b+=f}},ml:function(a){var b=G.pd(a,this.W),c=this.hf(a,b),d=this;this.dg(b,c,function(b){d.pc(a,b.text,c)})},dg:function(a,b,c){var d;if(2==this.uc)for(d=a.length-1;0<=d;--d)c(a[d]),b.c-=a[d].Be*G.bb;else for(d=0;d<a.length;++d)c(a[d]),b.c+=a[d].Be*G.bb},pc:function(a,b,c){this.mj&&(b=this.Yj(a,b));a.fillText(b,
c.c,c.b)},Yj:function(a,b){if(G.Za(a,b,p)<=this.e.h())return b;for(var c,d=0,e=b.length-1,f,g;1<e-d;){f=Math.floor((d+e)/2);c=b.substr(0,f)+"...";g=G.Za(a,c,p)-this.e.h();if(0===g)return c;0>g?(d=f,g=p):(e=f,g=k)}return g===k?0<f?c.substr(0,f-1)+"...":"":c},jj:function(a,b){var c=this.sd(a);a.textBaseline="top";3===this.Gc?c=new B(c.c,this.e.g+this.e.j()/2-b/2):2===this.Gc&&(c=new B(c.c,c.b-b));return c},sd:function(a){var b,c;1===this.uc?(b=this.e.f+1,a.textAlign="left"):3===this.uc?(b=this.e.f+
this.e.h()/2,a.textAlign="center"):(b=this.e.s-1,a.textAlign="right");1===this.Gc?(c=this.e.g+2,a.textBaseline="top"):3===this.Gc?(c=this.e.g+this.e.j()/2,a.textBaseline="middle"):(c=this.e.v-1,a.textBaseline="bottom");return new B(b,c)},hf:function(a,b){var c=this.sd(a),d,e=0;if(3===this.uc){for(d=0;d<b.length;++d)e+=b[d].Be*G.bb;c.c=this.e.f+(this.e.h()-e+G.bb)/2}return c},sk:function(a){var b=1;0!==(a&1)?b=3:0!==(a&2)&&(b=2);return b},Ll:function(a){var b=1;0!==(a&4)?b=3:0!==(a&8)&&(b=2);return b},
Fl:function(a){if(this.lg){var b=0,c=G.od(this.W),d;for(d=0;d<c.length;++d)b=Math.max(b,G.Za(a,c[d],k));return b}return G.Za(a,this.W,k)}};var ab;
(function(){var a=o;ab=function(a,c){var d=c.getUint16();this.W=c.getString(d,15==a);this.d=G.Eb(c);this.Fk=1===(c.getUint32()&1)};ab.prototype={execute:function(b){var c=b.getContext(),d=G.od(this.W),e=b.a.B.ph(),f=this.tj(c,e,d),g=f.lineHeight,j=new fa(6,4),f=this.uj(b.Oc(),f.size,j),f=f.wb(0.5,0.5);c.save();c.font=e.Ne;c.textBaseline="top";c.textAlign="left";c.lineWidth=1;c.strokeStyle="#000000";c.fillStyle="#ffffe1";c.fillRect(f.f,f.g,f.h(),f.j());c.strokeRect(f.f,f.g,f.h(),f.j());c.fillStyle=
"#000000";j=new B(f.f+j.G/2,f.g+j.F/2);for(e=0;e<d.length;++e)c.fillText(d[e],j.c,j.b),j=new B(j.c,j.b+g);this.Fk&&(a=new L(0,0,0,0));(a===o||!f.Kc(a))&&this.ul(b.a,f);a=f;c.restore()},ul:function(a,c){var d=new I(J.pi,a.m.U,0,0),e=K.H(8),f=ob.H(e,k);f.ia(Math.floor(c.f));f.ia(Math.floor(c.g));f.ia(Math.ceil(c.s));f.ia(Math.ceil(c.v));d.Bb(e);a.ua.push(d)},tj:function(a,c,d){var e=new fa(0,0),f=a.font,g,j,n=0;a.font=c.Ne;for(g=0;g<d.length;++g)0===g&&(n=M.jd(c.vi)),j=G.Za(a,d[g],p),e.G=Math.max(e.G,
j),e.F+=n+0;e.F=Math.ceil(e.F);a.font=f;return{size:e,lineHeight:n}},uj:function(a,c,d){var e,f;e=this.d.c+20+d.G+c.G>=a.h()?this.d.c-20-d.G-c.G:this.d.c+20;f=this.d.b+20+c.F>=a.j()?this.d.b-20-c.F:this.d.b+20;0>e&&(e=c.G<a.h()?(a.h()-c.G)/2:0);0>f&&(f=c.F<a.j()?(a.j()-c.F)/2:0);return new L(e,f,e+c.G+d.G,f+d.F+c.F)}}})();var Lb;Lb=s();Lb.prototype={execute:s()};var Mb;Mb=function(a,b){var c=b.getUint16();this.Aj=0===c||2==c};Mb.prototype={execute:function(a){this.Aj&&a.a.ie()}};var $a;
$a=function(a,b,c){a=b.u();this.e=G.gc(b);this.rf=k;if(c>=b.u()-a+12)this.rf=0===(b.getUint32()&1)};$a.prototype={execute:function(a){a.Id.Ql(this.e);this.rf&&a.A.clearRect(this.e.f,this.e.g,this.e.h(),this.e.j());a.a.Ib.bn(this.e)}};var Nb;
Nb=function(a,b){var c;b.getUint16();b.getUint16();this.kb=G.gc(b);c=b.getUint32();this.Ak=0!==(c&1);this.pj=0!==(c&2);this.Nf=b.getUint16();c=b.getUint16();this.$j=b.getString(c,p);this.kc=b.getUint16();c=b.getUint16();this.wk=b.getString(c,p);this.qg=p;if(25==a)c=b.getUint16(),this.qg=0!==(c&1)};
Nb.prototype={execute:function(a){var b=window.document.createElement("input"),c=this.qj(),d=a.qm();if(this.qg)b.type="password";b.value=this.wk;c=c.wb(d.c,d.b);M.Ue(b,c);b.style.zIndex=300;b.style.textAlign=0!==(this.kc&1)?"center":0!==(this.kc&2)?"right":"left";b.style.fontFamily=this.$j;b.style.fontSize=this.Nf+"px";if(this.Ak)b.style.fontStyle="italic";if(this.pj)b.style.fontWeight="bold";a.a.Um(b);b.select()},qj:function(){var a=this.kb.f+3,b=this.kb.s-9,c,d=M.jd(this.Nf);c=0!==(this.kc&8)?this.kb.v-
d-9:0!==(this.kc&4)?this.kb.g+(this.kb.j()-d)/2:this.kb.g+1;return new L(a,c,b,c+d)}};var cb;(function(){var a=o;cb=s();cb.hi=function(b,c,d){a===o&&(a=[Lb,Hb,Gb,Kb,Ob,Pb,Qb,$a,Bb,Rb,Nb,Kb,Mb,Lb,ab,ab,Lb,Sb,Tb,Za,Ub,Vb,Vb,Cb,Wb,Nb,Xb,Yb,Zb,$b,ac,Jb,bc,cc,cc,dc,Eb,ec,Lb,Lb,Lb,Lb,Lb,Lb,Fb]);return b<a.length?new a[b](b,c,d):new Lb}})();var G;
(function(){function a(a){return b[a>>4&15]+b[a&15]}G=s();G.bb=50;G.Eb=function(a){var b=a.getInt16(),a=a.getInt16();return new B(b,a)};G.Ve=function(a){var b=[],e;for(e=0;4>e;++e)b[e]=G.Eb(a);return b};G.De=function(a,b,e){if((e||b)&&(a[0].b!==a[1].b||a[3].b<a[0].b)){var f,b=Math.sqrt((a[0].c-a[1].c)*(a[0].c-a[1].c)+(a[0].b-a[1].b)*(a[0].b-a[1].b));f=Math.sqrt((a[0].c-a[3].c)*(a[0].c-a[3].c)+(a[0].b-a[3].b)*(a[0].b-a[3].b));return e?(e=Math.atan2(a[1].b-a[0].b,a[1].c-a[0].c),new L(a[0].c,a[0].b,
a[0].c+b,a[0].b+f,fc.fi(e))):new L(0,0,b,f,fc.ei((a[1].c-a[0].c)/b,(a[1].b-a[0].b)/b,(a[3].c-a[0].c)/f,(a[3].b-a[0].b)/f,a[0].c,a[0].b))}return new L(a[0].c,a[0].b,a[2].c,a[2].b)};G.hc=function(a,b,e){a=G.Ve(a);return G.De(a,b,e)};G.gc=function(a){var b;b=G.Eb(a);a=G.Eb(a);return new L(b.c,b.b,a.c,a.b)};G.We=function(a){var b=a.getUint16(),e,f;f=Array(b);for(e=0;e<b;++e)f[e]=G.Eb(a);return f};var b="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F".split(",");G.ya=function(a){return Math.PI*a/180};G.T=function(b){return"#"+
a(b>>16)+a(b>>8)+a(b)};G.kd=function(a){return 1==a.lineWidth%2?0.5:0};G.Bi=function(a){return 0<=a.indexOf("\n")||0<=a.indexOf("\r")};G.od=function(a){return a.replace(/(\r\n|\n\r|\r|\n)/g,"\n").split("\n")};G.Ci=function(a){return 0<=a.indexOf("\t")};G.Mi=function(a){return a.split("\t")};G.Za=function(a,b,e){if(e){a=G.pd(a,b);for(b=e=0;b<a.length;++b)e+=a[b].Qn;return e}return a.measureText(b).width};G.pd=function(a,b){var e=G.Mi(b),f=[],g,j,n;for(g=0;g<e.length;++g)j=a.measureText(e[g]).width,
n=Math.max(1,Math.ceil(j/G.bb)),g<e.length-1&&(j=n*G.bb),f.push({text:e[g],Be:n,Qn:j});return f};G.Di=function(a){return a.ha!==o};G.Ie=function(a,b,e,f,g,j,n){var m=G.ya(90),A=G.ya(180),aa=G.ya(270),V=G.ya(360),C;C=Math.max(1,Math.min(f,g)/8);a.beginPath();a.moveTo(b+C,e);a.lineTo(b+f-C,e);a.arc(b+f-C,e+C,C,aa,V,p);a.lineTo(b+f,e+g-C);a.arc(b+f-C,e+g-C,C,V,m,p);a.lineTo(b+C,e+g);a.arc(b+C,e+g-C,C,m,A,p);a.lineTo(b,e+C);a.arc(b+C,e+C,C,A,aa,p);a.closePath();j&&a.fill();n&&a.stroke()}})();var Wb;
Wb=function(a,b){switch(b.getUint16()){case 0:this.Y="pointer";break;case 1:this.Y="default";break;case 2:this.Y="pointer";break;case 3:this.Y="wait";break;case 4:this.Y="text";break;case 5:this.Y="crosshair";break;case 6:this.Y="help";break;case 7:this.Y="col-resize";break;case 8:this.Y="row-resize";break;case 9:this.Y="nw-resize";break;case 10:this.Y="ne-resize";break;case 11:this.Y="w-resize";break;case 12:this.Y="s-resize";break;case 13:this.Y="pointer";break;default:this.Y="default"}};
Wb.prototype={execute:function(a){a.A.canvas.style.cursor=this.Y}};var Ob;Ob=function(a,b){var c=b.getUint32(),d=b.getUint32();this.Mb=1===(c&1);this.Jb=G.T(d)};Ob.prototype={execute:function(a){a.p().pn(this.Jb,this.Mb)}};var Qb;Qb=function(a,b){var c,d;this.Jb=G.T(b.getUint32());c=this.Bl(b.getUint32());this.Of=b.getUint16();d=b.getUint16();d=b.getString(d,p);this.va=c+" "+this.Of+"px "+d};
Qb.prototype={execute:function(a){a.p().xn(this.va,this.Of,this.Jb)},Bl:function(a){var b=[];0!==(a&1)&&b.push("italic");0!==(a&2)&&b.push("bold");return b.join(" ")}};var ac;ac=function(a,b){var c=1===b.getUint32(),d=b.getUint32(),e=b.getUint32(),f=b.getUint32(),g=b.getUint32()/100,j=b.getUint32()/100,n=b.getUint32(),m=0===b.getUint32(),A;b.getUint32();A=b.getUint32();this.rk=new oa(c,d,e,f,g,j,n,m,A)};ac.prototype={execute:function(a){a.p().qn(this.rk)}};var Pb;
Pb=function(a,b,c){var d=b.u(),e=b.getUint32(),f=b.getUint32(),a=b.getUint16(),g=["butt","square","round"],j=["miter","bevel","round"];this.Mb=5===e;this.Jb=G.T(f);this.Ml=a;if(c>=b.u()-d+11){c=b.getUint16();this.Ba=g[0];if(0!==(c&0))this.Ba=g[0];if(0!==(c&1))this.Ba=g[1];if(0!==(c&2))this.Ba=g[2];c=b.getUint16();this.Ca=j[0];if(0!==(c&0))this.Ca=j[0];if(0!==(c&1))this.Ca=j[1];if(0!==(c&2))this.Ca=j[2];b=b.getUint16();this.Gb=1==b?1.7*a:2*b}else this.Ba=g[0],this.Ca=j[0],this.Gb=1.7*a};
Pb.prototype={execute:function(a){a.p().rn(this.Ml,this.Jb,this.Mb,this.Ba,this.Ca,this.Gb)}};var Tb;Tb=function(a,b){this.nj=1===b.getUint16()};Tb.prototype={execute:function(a){this.nj?a.cn():a.dn()}};var ec;ec=function(a,b){var c=b.getUint16();this.W=b.getString(c,p)};ec.prototype={execute:function(a){if(a.a.B.ChangeWindowTitle)window.document.title=this.W}};var Rb;Rb=function(a,b){this.e=G.gc(b)};Rb.prototype={execute:function(a){a.getContext().restore();a.p().apply()}};var Yb;Yb=s();
Yb.prototype={execute:function(){WebvisuLogger.warn("The functionality CallNativeControl is not possible in the webvisualization.")}};var Xb;Xb=s();Xb.prototype={execute:function(){WebvisuLogger.warn("The functionality CreateNativeControl is not possible in the webvisualization.")}};var Ub;Ub=s();Ub.prototype={execute:function(){WebvisuLogger.warn("The functionality ExecuteClientProgram is not possible in the webvisualization.")}};var Sb;Sb=s();Sb.prototype={execute:function(){WebvisuLogger.warn("The functionality ExecuteCommand is not possible in the webvisualization.")}};
var Zb;Zb=s();Zb.prototype={execute:function(){WebvisuLogger.warn("The functionality MoveNativeControl is not possible in the webvisualization.")}};var Vb;Vb=s();Vb.prototype={execute:function(){WebvisuLogger.warn("The functionality OpenFileDialog is not possible in the webvisualization.")}};var $b;$b=s();$b.prototype={execute:function(){WebvisuLogger.warn("The functionality ShowNativeControl is not possible in the webvisualization.")}};var dc;dc=s();
dc.prototype={execute:function(a){var b=a.a.ua,c=a.de,d,e,f;d=K.H(4*c.nb.length);e=ob.H(d,a.a.m.ea);for(f=0;f<c.nb.length;++f)e.ia(c.h(f)),e.ia(c.j(f));a=new I(J.si,a.a.m.U,0,0);a.Bb(d);b.push(a)}};var cc;cc=function(a,b){var c=b.getUint16();this.W=b.getString(c,34==a)};cc.prototype={execute:function(a){a.de.Pl(this.W)}};var bc;bc=function(a,b){b.getUint32();b.getUint32()};bc.prototype={execute:function(a){a.de.clear()}};var gc;gc=function(a,b){this.a=a;this.Zj=b};
gc.prototype={execute:function(){var a=this.a.ca(),b=this.a.B,c=this.a.ja();c.Ah(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.ma(c.ka(),this)},la:function(a){a=(new yb(a,k,this.a.S())).Dh();a instanceof na?(this.a.m.ec=a.ec,this.a.L(this.Zj,0)):this.a.error("Checking for demo mode failed (1): "+a)},Ug:v(p),t:function(a){this.a.error("Checking for demo mode failed (2): "+a)},className:v("CheckDemoModeState")};var hc;
hc=function(a,b,c,d,e){b===i&&(b=o);c===i&&(c=o);this.a=a;this.Xk=b;this.Wk=c;this.Vk=e;this.Uk=d};
hc.prototype={execute:function(){var a=this.a.ca(),b=this.a.ja();b.dm(this.Xk,this.Wk,this.Uk,this.Vk);a.ma(b.ka(),this)},la:function(a){a=(new yb(a,this.a.m.ea,this.a.S())).Ym();a instanceof wb?0===a.Ye?(WebvisuLogger.O("Successfully Logged in! DeviceSessionId: "+a.ic),this.a.m.He=a.ic,this.a.L(new ic(this.a),0)):(WebvisuLogger.O("Login failed. Probably credentials necessary; result: "+a.Ye),this.a.L(new jc(this.a,a),0)):this.t("DeviceLogin failed with the following error: "+a)},t:function(a){this.a.error("Login to the plc device failed: "+
a)},className:v("DeviceLoginState")};var nb;nb=t("a");nb.prototype={execute:function(){WebvisuLogger.info("Triing to reconnect after error");this.a.L(new gb(this.a),0)},className:v("ErrorState")};var jc;jc=function(a,b){this.a=a;this.tg=b};
jc.prototype={execute:function(){this.Tk()},className:v("QueryCredentialsState"),Tk:function(){var a=window.document.createElement("div"),b=this.vf("Ok"),c=this.vf("Cancel"),d=this.Bj(),e=this;b.addEventListener("click",function(){e.Sk(a,d.Yh,d.Vm)},p);c.addEventListener("click",function(){e.Kk(a)},p);a.style.Eo=a.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";a.align="center";a.appendChild(d.Dn);a.appendChild(b);a.appendChild(c);window.document.body.appendChild(a);M.Ue(a,this.xj(300,200));
a.style.zIndex=300;a.style.backgroundColor="#d4d0c8";d.Yh.focus()},Bj:function(){var a=window.document.createElement("table"),b=window.document.createElement("input"),c=window.document.createElement("input");c.type="password";a.border="0";a.appendChild(this.wf("Username: ",b));a.appendChild(this.wf("Password: ",c));return{Dn:a,Yh:b,Vm:c}},wf:function(a,b){var c=window.document.createElement("tr"),d=window.document.createElement("td");d.appendChild(window.document.createTextNode(a));c.appendChild(d);
d=window.document.createElement("td");d.appendChild(b);c.appendChild(d);return c},xj:function(a,b){var c=this.a.oa.Oc();return new B((c.f+c.s-a)/2,(c.g+c.v-b)/2)},tf:function(a){window.document.body.removeChild(a)},Sk:function(a,b,c){this.tf(a);this.a.L(new hc(this.a,b.value,c.value,this.tg.ci,this.tg.ii),0)},Kk:function(a){this.a.Sh("The user did not provide credentials.","No credentials");this.tf(a)},vf:function(a){var b=window.document.createElement("input");b.type="button";b.value=a;return b}};
var gb;
(function(){var a,b;a=function(a){if(a!==o){if("false"===a.toLowerCase())return p;if("true"===a.toLowerCase())return k}return o};b=[{qb:"HandleTouchEvents",$b:"CFG_HandleTouchEvents",type:"boolean",xb:a},{qb:"BestFit",$b:"CFG_BestFit",type:"boolean",xb:a},{qb:"LogLevel",$b:"CFG_LogLevel",type:"string",xb:o},{qb:"Benchmarking",$b:"CFG_Benchmarking",type:"boolean",xb:a},{qb:"ClientName",$b:"ClientName",type:"string",xb:o}];gb=t("a");gb.prototype={execute:function(){var a=this.a.ca(),b;b=window.document.URL;b=
b.substr(0,b.lastIndexOf("."));a.vh(b+".cfg.json",this)},gh:function(a){try{var b=this.cl(a);this.dl(b);this.a.Jh(b);this.Pj(b);this.Tb()}catch(e){this.t(e)}},dl:function(a){var d,e,f;for(d=0;d<b.length;++d)e=b[d],f=this.Ek(e.$b),f!==o&&(f=e.xb!==o?e.xb(f):f,a[e.qb]=f,WebvisuLogger.info("Overridden Config Entry: "+e.qb+" = "+f))},Ek:function(a){a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return a===o?o:a[1]},cl:function(a){try{var b=JSON.parse(a),e=new Configuration,f;for(f in b)f!==
i&&(e[f]=b[f]);e.Jn();return e}catch(g){return this.Pb(g),new Configuration}},t:function(a){this.Pb(a);this.a.Jh(new Configuration);this.Tb()},Tb:function(){this.a.L(new kc(this.a),0)},Pb:function(a){WebvisuLogger.error("Loading the configuration failed for the following reason: "+a+". A default config will be used instead.")},className:v("RetrievingConfigurationState"),Pj:function(a){WebvisuLogger.O("Configuration:");for(var b in a)a.hasOwnProperty(b)&&WebvisuLogger.O(M.jc(" - {0}: {1}",b,a[b]));
a.Benchmarking&&WebvisuLogger.info("Benchmarking active")}}})();var lc;lc=t("a");lc.prototype={execute:function(){var a=this.a.ca(),b=this.a.ja();b.gn();a.ma(b.ka(),this)},fh:v(k),la:function(a){if(a!==o&&(a=(new yb(a,k,this.a.S())).Zm(),""!==a))this.a.m.Re=a;this.a.L(new hc(this.a),0)},t:function(a){this.a.error("Retrieving IP Info failed: "+a)},className:v("RetrievingMyIpState")};var mc;mc=t("a");
mc.prototype={execute:function(){var a=this.a.ca(),b=this.a.B,c=this.a.ja();c.Ah(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.ma(c.ka(),this)},fh:v(k),la:function(a){a===o?this.a.L(this,this.a.B.PollingRegistrationInterval):(a=(new yb(a,k,this.a.S())).Dh(),a instanceof na?(WebvisuLogger.O("Successfully connected! SessionId: "+a.ic+" IntelByteOrder: "+a.ea),this.a.mn(a),this.a.L(new lc(this.a),0)):this.a.error("Connection failed: "+a))},t:function(a){this.a.error("Starting to connect failed: "+
a)},className:v("StartConnectState")};var kc;kc=t("a");kc.prototype={execute:function(){this.a.ca().vh(M.Oe((this.a.B.Application+".imagepoolcollection.csv").toLowerCase()),this)},gh:function(a){try{this.a.oa.$f.fill(a)}catch(b){this.Pb(b)}this.Tb()},t:function(a){this.Pb(a);this.Tb()},Tb:function(){this.a.L(new mc(this.a),0)},Pb:function(a){WebvisuLogger.error("Loading the imagepool failed for the following reason: "+a+". Images will not work at all.")},className:v("UploadImagePoolState")};var nc;
nc=t("a");
nc.prototype={execute:function(){var a=this.a.ca(),b=this.a.ja(),c=new I(J.ui,this.a.m.U,this.a.B.BestFit?1:0,0),d=K.H(8),e=ob.H(d,k),f=this.a.oa.Oc();e.ia(0);e.ia(0);e.ia(f.h()-1);e.ia(f.j()-1);c.Bb(d);b.gd(c);a.ma(b.ka(),this)},la:function(a){a=(new yb(a,this.a.m.ea,this.a.S())).$c(o);a instanceof Ia?!a.Sc()||0<a.hb?this.t("Unexpected paint result in "+this.className()):this.a.L(new oc(this.a),0):this.t(a)},t:function(a){this.a.error("Error during initializing (1) the visualization: "+a)},className:v("VisuOnlineInitState1")};
var oc;oc=t("a");oc.prototype={execute:function(){var a=this.a.ca(),b=this.a.ja(),c=new I(J.Je,this.a.m.U,0,0),d=K.H(16),e=ob.H(d,k),f=this.a.B;e.N(458752);e.N(4);f.HasKeyboard===k&&e.N(24);c.Bb(d);b.gd(c);a.ma(b.ka(),this)},la:function(a){a=(new yb(a,this.a.m.ea,this.a.S())).$c(o);a instanceof Ia?!a.Sc()||0<a.hb?this.t("Unexpected paint result in "+this.className()):this.a.L(new pc(this.a),0):this.t(a)},t:function(a){this.a.error("Error during initializing (2) the visualization: "+a)},className:v("VisuOnlineInitState2")};
var pc;pc=t("a");pc.prototype={execute:function(){var a=this.a.ca(),b=this.a.ja(),c=new I(J.Je,this.a.m.U,0,0),d=K.H(32),e=ob.H(d,k);e.N(1);e.Sa(this.a.B.StartVisu,p);c.Bb(d);b.gd(c);a.ma(b.ka(),this)},la:function(a){a=(new yb(a,this.a.m.ea,this.a.S())).$c(o);a instanceof Ia?!a.Sc()||0<a.hb?this.t("Unexpected paint result in "+this.className()):this.a.L(new qc(this.a),0):this.t(a)},t:function(a){this.a.error("Error during initializing (3) the visualization: "+a)},className:v("VisuOnlineInitState3")};
var qc;qc=function(a){this.a=a;this.ib=o;this.eg=M.$();this.a.on(new zb);this.fe=p;this.Kf=k;this.Wd=p};
qc.prototype={execute:function(){var a=this.a.ca(),b=this.a.ja();this.yj(this.a.oa.Nd);if(this.ib===o){var c;c=this.a.ua.empty()?new I(J.ti,this.a.m.U,0,0):this.a.ua.pop();c.rg?(this.Wd=k,b.Mn(c)):(this.Wd=p,b.gd(c))}else b.Kn(this.ib.yd);this.vl=M.$();a.ma(b.ka(),this)},Ug:function(){return this.ib===o&&!this.fe},la:function(a){if(this.Wd)this.a.L(this.Vf(),this.Bf());else{var a=(new yb(a,this.a.m.ea,this.a.S())).$c(this.ib),b=this;if(a instanceof Ia)if(a.Sc()){this.ib=o;if(this.Kf)this.a.oa.Yl(),
this.Kf=p;this.fe=k;this.a.oa.jm(a,function(){b.fe=p;b.a.L(b.Vf(),b.Bf())})}else this.ib=a,this.a.L(this,0);else this.t(a)}},Vf:function(){return!this.a.m.ec&&4E3<=M.$()-this.eg?(this.eg=M.$(),new gc(this.a,this)):this},Bf:function(){var a=this.a.ua;if(a.empty()){var b=M.$(),c=this.a.B.UpdateRate,a=b-a.fg;return 0<=a&&a<Math.min(2*c,500)?Math.max(10,c/5):Math.max(10,c-(b-this.vl))}return 0},yj:function(a){a.Xl()},t:function(a){this.a.error("Error while processing the visualization: "+a)},className:v("VisuOnlineState")};
var rc;rc=function(a){this.a=a;this.ql=0};
rc.prototype={execute:function(){var a=this.a.ca(),b=this.a.ja();b.Ln(this.a.m.U);a.ma(b.ka(),this)},la:function(a){a=(new yb(a,this.a.m.ea,this.a.S())).$m();"number"===typeof a?0===a?(WebvisuLogger.O("Successfully finished visu registration"),this.a.L(new nc(this.a),0)):1===a?(0===this.ql++%20&&WebvisuLogger.info("Still polling the registration of the visualization. Is the visu stopped?"),this.a.L(this,this.a.B.PollingRegistrationInterval)):this.t("Unexpected return value: "+a):this.t(a)},t:function(a){this.a.error("Visu registration in the plc failed: "+
a)},className:v("VisuPollingRegistrationState")};var ic;ic=t("a");
ic.prototype={execute:function(){var a=this.a.ca(),b=this.a.ja(),c=this.a.B;b.Nn(c.Application,c.ClientName,this.a.m.Re);a.ma(b.ka(),this)},la:function(a){a=(new yb(a,this.a.m.ea,this.a.S())).an();"number"===typeof a?(WebvisuLogger.O("Successful first visu registration step: "+a),this.a.m.U=a,this.a.L(new rc(this.a),this.a.B.PollingRegistrationInterval)):this.t(a)},t:function(a){this.a.error("Visu registration in the plc failed: "+a)},className:v("VisuRegistrationState")};var fb;
fb=function(a){this.a=a;this.cb=this.bg=p;this.Td=this.og=0;this.Ea=o;this.Ud=p};
fb.prototype={Bn:function(){this.bg||this.xk();if(this.cb)this.og=M.bc()},hm:function(a){if(this.cb&&!a){a=M.bc();if(this.Ud)this.sg(a-this.Td,2),this.Ud=p;this.sg(a-this.og,1)}},Om:function(a){if(this.cb)this.Td=M.bc(),this.Ea=z.Se(a)},Hn:function(a){if(this.cb)this.Td=M.bc(),this.Ea=a},bn:function(a){if(this.cb&&this.Ea!==o&&!(this.Ea.c<a.f||this.Ea.c>a.s))if(!(this.Ea.b<a.g||this.Ea.b>a.v))this.Ea=o,this.Ud=k},sg:function(a,b){var c;c=new I(J.Le,this.a.m.U,b,a&4294967295);c.vn();this.a.rb(c)},
xk:function(){this.cb=this.a.B.Benchmarking;this.bg=k}};var Ta;Ta=function(){this.clear()};Ta.prototype={clear:function(){this.mb=[]},Ql:function(a){this.mb.push(a)},Sl:function(a){a.beginPath();for(var b=0;b<this.mb.length;++b)a.rect(this.mb[b].f-1,this.mb[b].g-1,this.mb[b].h()+2,this.mb[b].j()+2);a.clip()}};var Db;
Db=function(a,b){this.oj=a;this.Bc=b;this.nf=[];this.yf=[];var c,d=this.Gl(this.oj);for(c=0;c<this.Bc;++c){var e=Math.floor(d.Xa+(c+1)*(128-Math.floor(d.Xa/2))/this.Bc);this.nf[this.Bc-c-1]=this.Eg(d.Z,d.Ab,e);e=Math.floor(Math.floor(d.Xa/3)+Math.floor(2*c*d.Xa/(3*this.Bc)));this.yf[c]=this.Eg(d.Z,d.Ab,e)}};
Db.prototype={pm:function(a){return this.nf[a]},jh:function(a){return this.yf[a]},Gl:function(a){var b={},c,d,e,f,g,j;c=((a&16711680)>>16)/255;d=((a&65280)>>8)/255;a=(a&255)/255;e=Math.min(c,Math.min(d,a));f=Math.max(c,Math.max(d,a));g=f-e;b.Xa=(e+f)/2;if(0===g)b.Z=b.Ab=0;else{b.Ab=0.5>b.Xa?g/(f+e):g/(2-f-e);e=((f-c)/6+g/2)/g;j=((f-d)/6+g/2)/g;g=((f-a)/6+g/2)/g;if(c===f)b.Z=g-j;else if(d===f)b.Z=1/3+e-g;else if(a===f)b.Z=2/3+j-e;0>b.Z&&(b.Z+=1);1<b.Z&&(b.Z-=1)}b.Z=Math.round(255*b.Z);b.Ab=Math.round(255*
b.Ab);b.Xa=Math.round(255*b.Xa);return b},Eg:function(a,b,c){var d,e;0===b?c=e=a=c:(a/=255,b/=255,c/=255,b=0.5>c?c*(1+b):c+b-c*b,d=2*c-b,c=Math.round(255*this.Ld(d,b,a+1/3)),e=Math.round(255*this.Ld(d,b,a)),a=Math.round(255*this.Ld(d,b,a-1/3)));return(c<<16)+(e<<8)+a},Ld:function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}};var ma;ma=function(a){try{this.bl(a)}catch(b){h(Error("Parsing the fontstring '"+a+"' failed for the following reason: "+b))}};
ma.prototype={bl:function(a){var b=o,c=o,d,e=p,f=a.split(/\s+/);for(d=0;d<f.length;++d){var g=f[d];switch(g){case "normal":break;case "italic":case "oblique":break;case "small-caps":break;case "bold":case "bolder":case "lighter":case "100":case "200":case "300":case "400":case "500":case "600":case "700":case "800":case "900":break;default:if(c===o){g=g.split("/");g=M.ab(g[0]);"p"===g.charAt(g.length-2)&&"x"===g.charAt(g.length-1)&&(c=parseInt(g.substr(0,g.length-2),10));break}b=g;d<f.length-1&&(b+=
" "+f.slice(d+1).join(" "));e=k}if(e)break}b===o&&h(Error("Font Family/Name missing"));(c===o||isNaN(c))&&h(Error("Invalid or unsupported font Size"));this.Wn=b;this.vi=c;this.Ne=a}};var B;B=function(a,b){this.c=a;this.b=b};var L;L=function(a,b,c,d,e){this.f=a;this.g=b;this.s=c;this.v=d;this.ha=e!==i?e:o};
L.prototype={h:function(){return this.s-this.f},j:function(){return this.v-this.g},rm:function(){return new B((this.f+this.s)/2,(this.g+this.v)/2)},Vg:function(){return new L(this.f,this.g,this.s,this.v,this.ha)},wb:function(a,b){return new L(this.f+a,this.g+b,this.s+a,this.v+b,this.ha)},rh:function(a){return new L(this.f-a,this.g-a,this.s+a,this.v+a,this.ha)},Kc:function(a){return this.f===a.f&&this.g===a.g&&this.s===a.s&&this.v===a.v},normalize:function(){var a;if(this.f>this.s)a=this.s,this.s=
this.f,this.f=a;if(this.g>this.v)a=this.v,this.v=this.g,this.g=a},Pm:function(){var a=this.Vg();a.normalize();return a}};var fa;fa=function(a,b){this.G=a;this.F=b};var hb;hb=function(a,b){this.W=a;this.Qa=b;this.yo=0;this.Qa.clear();this.Bk=M.$();this.va=o;var c=this;this.Ec=window.setInterval(function(){c.Tm()},50)};
hb.prototype={close:function(){this.Qa.clear();window.clearInterval(this.Ec)},Tm:function(){var a=this.Qa.A,b=this.Qa.Oc(),c=2*Math.PI/6,d=(2*Math.PI-5*c)/5,e=250/3,f=10+e,g=2*Math.PI*(M.$()-this.Bk)/6E3,j=1;a.save();if(250>b.h()||250>b.j())j=0.9*Math.min(b.h()/250,b.j()/250);a.scale(j,j);a.translate(Math.max(5,(b.h()-250)/2),Math.max(5,(b.j()-250)/2));a.strokeStyle="#a90018";a.lineWidth=4;a.strokeRect(0,0,250,250);a.fillStyle="#f4f4f4";a.fillRect(0,0,250,250);for(b=0;5>b;++b)a.save(),a.translate(125,
f),a.rotate(g+b*(c+d)),this.Oj(a,c,e,"#cd001c"),a.restore();this.va===o&&this.Fj(a,250);a.font=this.va;a.textAlign="center";a.textBaseline="bottom";a.fillStyle="#000000";a.fillText(this.W,125,2750/12);a.restore()},Fj:function(a,b){var c=40;for(a.font=this.Wf(c);2<c&&a.measureText(this.W).width>=0.95*b;)c-=2,a.font=this.Wf(c);this.va=a.font},Wf:function(a){return"italic "+a+"px Arial"},Oj:function(a,b,c,d){var e=0.9*c;a.beginPath();a.moveTo(0,-c);a.arc(0,0,c,-Math.PI/2,b-Math.PI/2,p);a.lineTo(Math.sin(b)*
e,-(Math.cos(b)*e));a.arc(0,0,e,b-Math.PI/2,-Math.PI/2,k);a.lineTo(0,-c);a.closePath();a.strokeStyle=d;a.fillStyle=a.strokeStyle;a.stroke();a.fill()}};var Ya;Ya=function(a){this.Qa=a;this.nb=[]};Ya.prototype={clear:function(){this.nb=[]},h:function(a){return this.nb[a].c},j:function(a){return this.nb[a].b},Pl:function(a){a=G.Za(this.Qa.getContext(),a,k);this.nb.push(new B(a,M.Pe(this.Qa)))}};var fc;fc=function(){this.hg=this.ig=this.jg=this.kg=this.Ef=this.Ff=this.fa=o};
fc.fi=function(a){var b=new fc;b.fa=a;return b};fc.ei=function(a,b,c,d,e,f){var g=new fc;g.hg=a;g.ig=b;g.jg=c;g.kg=d;g.Ef=e;g.Ff=f;return g};fc.prototype={he:function(a,b){this.fa!==o?this.rl(a,b):this.lj(a)},rl:function(a,b){a.translate(b.f,b.g);a.rotate(this.fa);a.translate(-b.f,-b.g)},lj:function(a){a.transform(this.hg,this.ig,this.jg,this.kg,this.Ef,this.Ff)}};var M;M=s();
M.Jk=function(){var a=window.performance||{};a.now=function(){return a.now||a.gq||a.yp||a.zp||a.xp||function(){return(new Date).getTime()}}();return a.now()};M.Oe=function(a){var b=window.location,c;c=b.pathname.lastIndexOf("/");-1!=c&&(a=b.pathname.substr(0,c+1)+a,"/"===a[0]&&(a=a.substr(1)));return b.protocol+"//"+b.host+"/"+a};M.$=function(){return(new Date).getTime()};M.bc=function(){return 1E3*M.Jk()};M.Pe=function(a){return M.jd(a.p().Pf)};M.jd=function(a){return 1.15*a};
M.Xe=function(a){var b=0,c=0,d=a;do b+=d.offsetLeft,c+=d.offsetTop;while((d=d.offsetParent)!==o);return new L(b,c,b+a.offsetWidth,c+a.offsetHeight)};M.Ue=function(a,b){var c;c=b instanceof L?new B(b.f,b.g):b;a.style.position="absolute";a.style.left=Math.floor(c.c)+"px";a.style.top=Math.floor(c.b)+"px";if(b instanceof L)a.style.width=Math.floor(b.h())+"px",a.style.height=Math.floor(b.j())+"px"};
M.jc=function(){var a=arguments,b,c;if(0===a.length)return"";b=a[0];for(a=1;a<arguments.length;a++)c=RegExp("\\{"+(a-1)+"\\}","gi"),b=b.replace(c,arguments[a]);return b};M.ko=function(a){return M.jc("{0}/{1} {2}/{3}",a.f,a.g,a.s,a.v)};M.jo=function(a){return M.jc("{0}/{1}",a.c,a.b)};M.po=function(a){return M.jc("{0}/{1}",a.G,a.F)};M.mi=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};M.ab=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};
